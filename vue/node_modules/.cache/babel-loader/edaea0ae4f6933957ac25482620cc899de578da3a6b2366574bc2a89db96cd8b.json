{"ast":null,"code":"import { CollapseTransition } from \"vue2-transitions\";\nimport linkName from \"../../../linkName\";\nimport axiosClient from \"../../../axios\";\nexport default {\n  components: {\n    CollapseTransition\n  },\n  props: {\n    menu: {\n      type: Boolean,\n      default: false,\n      description: \"Whether item is a menu containing multiple items\"\n    },\n    link: {\n      type: Object,\n      default: () => {\n        return {\n          name: \"\",\n          path: \"\",\n          children: []\n        };\n      },\n      description: \"Link object\"\n    }\n  },\n  provide() {\n    return {\n      addLink: this.addChild,\n      removeLink: this.removeChild\n    };\n  },\n  inject: {\n    addLink: {\n      default: null\n    },\n    removeLink: {\n      default: null\n    },\n    autoClose: {\n      default: false\n    }\n  },\n  data() {\n    return {\n      children: [],\n      collapsed: true,\n      name: \"\"\n    };\n  },\n  computed: {\n    isUserPromo() {\n      let cl = \"\";\n      if (this.link.name == \"UserPromo\") cl = \"user\";else cl = \"\";\n      return cl;\n    },\n    baseComponent() {\n      return this.isMenu || this.link.isRoute ? \"li\" : \"router-link\";\n    },\n    isMenu() {\n      return this.children.length > 0 || this.menu === true;\n    },\n    isActive() {\n      if (this.$route) {\n        let matchingRoute = this.children.find(c => this.$route.path.startsWith(c.link.path));\n        if (matchingRoute !== undefined) {\n          return true;\n        }\n      }\n      return false;\n    }\n  },\n  methods: {\n    fetchData() {\n      axiosClient.get(\"/users\", {\n        params: {\n          email: sessionStorage.getItem(\"Email\")\n        }\n      }).then(response => {\n        this.name = response.data[0].name;\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n    addChild(item) {\n      const index = this.$slots.default.indexOf(item.$vnode);\n      this.children.splice(index, 0, item);\n    },\n    removeChild(item) {\n      const tabs = this.children;\n      const index = tabs.indexOf(item);\n      tabs.splice(index, 1);\n    },\n    elementType(link, isParent = true) {\n      if (link.isRoute === false) {\n        return isParent ? \"li\" : \"a\";\n      } else {\n        return \"router-link\";\n      }\n    },\n    collapseMenu() {\n      this.collapsed = !this.collapsed;\n    },\n    onItemClick() {\n      if (this.autoClose) {\n        this.$sidebar.showSidebar = false;\n      }\n      linkName.val = this.link.name;\n    }\n  },\n  mounted() {\n    this.fetchData();\n    if (this.addLink) {\n      this.addLink(this);\n    }\n    if (this.link.collapsed !== undefined) {\n      this.collapsed = this.link.collapsed;\n    }\n    if (this.isActive && this.isMenu) {\n      this.collapsed = false;\n    }\n  },\n  destroyed() {\n    if (this.$el && this.$el.parentNode) {\n      this.$el.parentNode.removeChild(this.$el);\n    }\n    if (this.removeLink) {\n      this.removeLink(this);\n    }\n  }\n};","map":{"version":3,"names":["CollapseTransition","linkName","axiosClient","components","props","menu","type","Boolean","default","description","link","Object","name","path","children","provide","addLink","addChild","removeLink","removeChild","inject","autoClose","data","collapsed","computed","isUserPromo","cl","baseComponent","isMenu","isRoute","length","isActive","$route","matchingRoute","find","c","startsWith","undefined","methods","fetchData","get","params","email","sessionStorage","getItem","then","response","catch","error","console","item","index","$slots","indexOf","$vnode","splice","tabs","elementType","isParent","collapseMenu","onItemClick","$sidebar","showSidebar","val","mounted","destroyed","$el","parentNode"],"sources":["src/components/UIComponents/SidebarPlugin/SidebarItem.vue"],"sourcesContent":["<template>\n  <component\n    :is=\"baseComponent\"\n    :to=\"link.path ? link.path : '/'\"\n    :class=\"{ active: isActive || $route.fullPath.startsWith(link.path) }\"\n    tag=\"li\"\n  >\n    <div :class=\"isUserPromo\">\n      <a v-if=\"isMenu\" data-toggle=\"collapse\" href=\"#\" @click.prevent=\"collapseMenu\">\n        <i v-if=\"link.name != 'UserPromo'\" :class=\"link.icon\"></i>\n        <div v-else class=\"photo\">\n          <img src=\"static/img/faces/user-icon.png\" alt=\"user avatar\" />\n          <!-- import router from \"../../../routes/routes\"; -->\n        </div>\n\n        <p v-if=\"link.name != 'UserPromo'\">\n          {{ link.name }}\n          <b class=\"caret\" :class=\"{ rotated: !collapsed }\"></b>\n        </p>\n        <p v-else>\n          {{ name }}\n          <b class=\"caret\" :class=\"{ rotated: !collapsed }\"></b>\n        </p>\n      </a>\n      <collapse-transition v-if=\"$slots.default || this.isMenu\">\n        <div v-show=\"!collapsed\" class=\"collapse-menu\">\n          <ul class=\"nav\">\n            <slot></slot>\n          </ul>\n        </div>\n      </collapse-transition>\n      <slot name=\"title\" v-if=\"children.length === 0 && !$slots.default && link.path\">\n        <component\n          :to=\"link.path\"\n          :is=\"elementType(link, false)\"\n          :class=\"{ active: link.active }\"\n          :target=\"link.target\"\n          @click.native.stop=\"onItemClick\"\n          :href=\"link.path\"\n        >\n          <template v-if=\"addLink\">\n            <span class=\"sidebar-mini-icon\">{{ link.name.substring(0, 1) }}</span>\n            <span class=\"sidebar-normal\">{{ link.name }}</span>\n          </template>\n          <template v-else>\n            <i :class=\"link.icon\"></i>\n            <p>{{ link.name }}</p>\n          </template>\n        </component>\n      </slot>\n    </div>\n  </component>\n</template>\n<script>\nimport { CollapseTransition } from \"vue2-transitions\";\nimport linkName from \"../../../linkName\";\nimport axiosClient from \"../../../axios\";\n\nexport default {\n  components: {\n    CollapseTransition,\n  },\n  props: {\n    menu: {\n      type: Boolean,\n      default: false,\n      description: \"Whether item is a menu containing multiple items\",\n    },\n    link: {\n      type: Object,\n      default: () => {\n        return {\n          name: \"\",\n          path: \"\",\n          children: [],\n        };\n      },\n      description: \"Link object\",\n    },\n  },\n  provide() {\n    return {\n      addLink: this.addChild,\n      removeLink: this.removeChild,\n    };\n  },\n  inject: {\n    addLink: { default: null },\n    removeLink: { default: null },\n    autoClose: { default: false },\n  },\n  data() {\n    return {\n      children: [],\n      collapsed: true,\n      name: \"\",\n    };\n  },\n  computed: {\n    isUserPromo() {\n      let cl = \"\";\n      if (this.link.name == \"UserPromo\") cl = \"user\";\n      else cl = \"\";\n\n      return cl;\n    },\n    baseComponent() {\n      return this.isMenu || this.link.isRoute ? \"li\" : \"router-link\";\n    },\n    isMenu() {\n      return this.children.length > 0 || this.menu === true;\n    },\n    isActive() {\n      if (this.$route) {\n        let matchingRoute = this.children.find((c) =>\n          this.$route.path.startsWith(c.link.path)\n        );\n        if (matchingRoute !== undefined) {\n          return true;\n        }\n      }\n      return false;\n    },\n  },\n  methods: {\n    fetchData() {\n      axiosClient\n        .get(\"/users\", {\n          params: {\n            email: sessionStorage.getItem(\"Email\"),\n          },\n        })\n        .then((response) => {\n          // console.log(\"Success User Response:\", response.data);\n          this.name = response.data[0].name;\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    },\n    addChild(item) {\n      const index = this.$slots.default.indexOf(item.$vnode);\n      this.children.splice(index, 0, item);\n    },\n    removeChild(item) {\n      const tabs = this.children;\n      const index = tabs.indexOf(item);\n      tabs.splice(index, 1);\n    },\n    elementType(link, isParent = true) {\n      if (link.isRoute === false) {\n        return isParent ? \"li\" : \"a\";\n      } else {\n        return \"router-link\";\n      }\n    },\n    collapseMenu() {\n      this.collapsed = !this.collapsed;\n    },\n    onItemClick() {\n      if (this.autoClose) {\n        this.$sidebar.showSidebar = false;\n      }\n      linkName.val = this.link.name;\n    },\n  },\n  mounted() {\n    this.fetchData();\n    if (this.addLink) {\n      this.addLink(this);\n    }\n    if (this.link.collapsed !== undefined) {\n      this.collapsed = this.link.collapsed;\n    }\n    if (this.isActive && this.isMenu) {\n      this.collapsed = false;\n    }\n  },\n  destroyed() {\n    if (this.$el && this.$el.parentNode) {\n      this.$el.parentNode.removeChild(this.$el);\n    }\n    if (this.removeLink) {\n      this.removeLink(this);\n    }\n  },\n};\n</script>\n<style scoped>\n.caret.rotated {\n  transform: rotate(180deg);\n}\n</style>\n"],"mappings":"AAsDA,SAAAA,kBAAA;AACA,OAAAC,QAAA;AACA,OAAAC,WAAA;AAEA;EACAC,UAAA;IACAH;EACA;EACAI,KAAA;IACAC,IAAA;MACAC,IAAA,EAAAC,OAAA;MACAC,OAAA;MACAC,WAAA;IACA;IACAC,IAAA;MACAJ,IAAA,EAAAK,MAAA;MACAH,OAAA,EAAAA,CAAA;QACA;UACAI,IAAA;UACAC,IAAA;UACAC,QAAA;QACA;MACA;MACAL,WAAA;IACA;EACA;EACAM,QAAA;IACA;MACAC,OAAA,OAAAC,QAAA;MACAC,UAAA,OAAAC;IACA;EACA;EACAC,MAAA;IACAJ,OAAA;MAAAR,OAAA;IAAA;IACAU,UAAA;MAAAV,OAAA;IAAA;IACAa,SAAA;MAAAb,OAAA;IAAA;EACA;EACAc,KAAA;IACA;MACAR,QAAA;MACAS,SAAA;MACAX,IAAA;IACA;EACA;EACAY,QAAA;IACAC,YAAA;MACA,IAAAC,EAAA;MACA,SAAAhB,IAAA,CAAAE,IAAA,iBAAAc,EAAA,eACAA,EAAA;MAEA,OAAAA,EAAA;IACA;IACAC,cAAA;MACA,YAAAC,MAAA,SAAAlB,IAAA,CAAAmB,OAAA;IACA;IACAD,OAAA;MACA,YAAAd,QAAA,CAAAgB,MAAA,aAAAzB,IAAA;IACA;IACA0B,SAAA;MACA,SAAAC,MAAA;QACA,IAAAC,aAAA,QAAAnB,QAAA,CAAAoB,IAAA,CAAAC,CAAA,IACA,KAAAH,MAAA,CAAAnB,IAAA,CAAAuB,UAAA,CAAAD,CAAA,CAAAzB,IAAA,CAAAG,IAAA,CACA;QACA,IAAAoB,aAAA,KAAAI,SAAA;UACA;QACA;MACA;MACA;IACA;EACA;EACAC,OAAA;IACAC,UAAA;MACArC,WAAA,CACAsC,GAAA;QACAC,MAAA;UACAC,KAAA,EAAAC,cAAA,CAAAC,OAAA;QACA;MACA,GACAC,IAAA,CAAAC,QAAA;QAEA,KAAAlC,IAAA,GAAAkC,QAAA,CAAAxB,IAAA,IAAAV,IAAA;MACA,GACAmC,KAAA,CAAAC,KAAA;QACAC,OAAA,CAAAD,KAAA,CAAAA,KAAA;MACA;IACA;IACA/B,SAAAiC,IAAA;MACA,MAAAC,KAAA,QAAAC,MAAA,CAAA5C,OAAA,CAAA6C,OAAA,CAAAH,IAAA,CAAAI,MAAA;MACA,KAAAxC,QAAA,CAAAyC,MAAA,CAAAJ,KAAA,KAAAD,IAAA;IACA;IACA/B,YAAA+B,IAAA;MACA,MAAAM,IAAA,QAAA1C,QAAA;MACA,MAAAqC,KAAA,GAAAK,IAAA,CAAAH,OAAA,CAAAH,IAAA;MACAM,IAAA,CAAAD,MAAA,CAAAJ,KAAA;IACA;IACAM,YAAA/C,IAAA,EAAAgD,QAAA;MACA,IAAAhD,IAAA,CAAAmB,OAAA;QACA,OAAA6B,QAAA;MACA;QACA;MACA;IACA;IACAC,aAAA;MACA,KAAApC,SAAA,SAAAA,SAAA;IACA;IACAqC,YAAA;MACA,SAAAvC,SAAA;QACA,KAAAwC,QAAA,CAAAC,WAAA;MACA;MACA7D,QAAA,CAAA8D,GAAA,QAAArD,IAAA,CAAAE,IAAA;IACA;EACA;EACAoD,QAAA;IACA,KAAAzB,SAAA;IACA,SAAAvB,OAAA;MACA,KAAAA,OAAA;IACA;IACA,SAAAN,IAAA,CAAAa,SAAA,KAAAc,SAAA;MACA,KAAAd,SAAA,QAAAb,IAAA,CAAAa,SAAA;IACA;IACA,SAAAQ,QAAA,SAAAH,MAAA;MACA,KAAAL,SAAA;IACA;EACA;EACA0C,UAAA;IACA,SAAAC,GAAA,SAAAA,GAAA,CAAAC,UAAA;MACA,KAAAD,GAAA,CAAAC,UAAA,CAAAhD,WAAA,MAAA+C,GAAA;IACA;IACA,SAAAhD,UAAA;MACA,KAAAA,UAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
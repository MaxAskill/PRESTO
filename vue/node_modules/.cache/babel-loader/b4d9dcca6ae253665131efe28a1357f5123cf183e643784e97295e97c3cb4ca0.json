{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nexport default {\n  props: [\"transferTransactionID\", \"savingCounter\", \"transactionReceipt\"],\n  components: {},\n  watch: {\n    savingCounter: \"counterSaving\"\n  },\n  transactionReceipt: {\n    handler: function handler(val) {\n      this.transferTransactionReceipt();\n    },\n    deep: true\n  },\n  computed: {},\n  data: function data() {\n    return {\n      counter: true,\n      isSubmit: true,\n      transactionData: []\n    };\n  },\n  mounted: function mounted() {\n    this.isEditParagraph();\n  },\n  methods: {\n    transferTransactionReceipt: function transferTransactionReceipt() {\n      this.transactionData = this.transactionReceipt;\n      console.log(\"Transaction Data:\", this.transactionData);\n    },\n    isEditParagraph: function isEditParagraph() {\n      if (sessionStorage.getItem(\"Position\") == \"Reviewer\" || sessionStorage.getItem(\"Position\") == \"Approver\") {\n        this.isSubmit = false;\n      }\n    },\n    reloadPage: function reloadPage() {\n      var holderName = this.convertToAlphanumeric(\"name\");\n      var holderplID = this.convertToAlphanumeric(\"plID\");\n      var holderDateStart = this.convertToAlphanumeric(\"dateStart\");\n      var holderDateEnd = this.convertToAlphanumeric(\"dateEnd\");\n      var holderEmail = this.convertToAlphanumeric(\"email\");\n      var holderUserID = this.convertToAlphanumeric(\"userID\");\n      var holderStatus = this.convertToAlphanumeric(\"status\");\n      var holderCompany = this.convertToAlphanumeric(\"company\");\n      var holderRegenerate = this.convertToAlphanumeric(\"regenerate\");\n      console.log(\"Transaction ID:\", this.transferTransactionID);\n      console.log(\"Transaction Receipt:\", this.transactionReceipt);\n      window.open(\"http://192.168.0.7:90/api/generatePDF?\" + holderName + \"=\" + this.transactionReceipt.transferTransactionPromoName + \"&\" + holderplID + \"=\" + this.transactionReceipt.transferTransactionID + \"&\" + holderDateStart + \"=\" + this.transactionReceipt.dateStarted + \"&\" + holderDateEnd + \"=\" + this.transactionReceipt.dateEnded + \"&\" + holderEmail + \"=\" + this.transactionReceipt.transferTransactionPromoEmail + \"&\" + holderUserID + \"=\" + sessionStorage.getItem(\"UserID\") + \"&\" + holderStatus + \"=\" + this.transactionReceipt.status + \"&\" + holderCompany + \"=\" + sessionStorage.getItem(\"Company\") + \"&\" + holderRegenerate + \"=generate\", \"_blank\");\n      if (sessionStorage.getItem(\"Position\") == \"Reviewer\" || sessionStorage.getItem(\"Position\") == \"Approver\") this.$router.push({\n        path: \"/pull-out/requests\"\n      });else this.$router.push({\n        path: \"/pull-out/pullout-transaction\"\n      });\n    },\n    counterSaving: function counterSaving() {\n      var _this = this;\n      setTimeout(function () {\n        _this.counter = false;\n      }, this.savingCounter * 1000);\n    },\n    convertToAlphanumeric: function convertToAlphanumeric(input) {\n      var result = \"\";\n      for (var i = 0; i < input.length; i++) {\n        var char = input[i];\n        var charCode = char.charCodeAt(0);\n        if (char >= \"0\" && char <= \"9\" || char >= \"a\" && char <= \"z\" || char >= \"A\" && char <= \"Z\") {\n          var alphanumericChar = charCode.toString(36);\n          result += alphanumericChar;\n        } else {\n          result += char;\n        }\n      }\n      return result;\n    }\n  }\n};","map":{"version":3,"names":["props","components","watch","savingCounter","transactionReceipt","handler","val","transferTransactionReceipt","deep","computed","data","counter","isSubmit","transactionData","mounted","isEditParagraph","methods","console","log","sessionStorage","getItem","reloadPage","holderName","convertToAlphanumeric","holderplID","holderDateStart","holderDateEnd","holderEmail","holderUserID","holderStatus","holderCompany","holderRegenerate","transferTransactionID","window","open","transferTransactionPromoName","dateStarted","dateEnded","transferTransactionPromoEmail","status","$router","push","path","counterSaving","_this","setTimeout","input","result","i","length","char","charCode","charCodeAt","alphanumericChar","toString"],"sources":["src/components/Dashboard/Views/PullOut/PullOutRequests/ModalPullOut/TransactionReceiptModal.vue"],"sourcesContent":["<template>\n  <div\n    class=\"modal fade\"\n    id=\"transactionReceipt\"\n    data-bs-backdrop=\"static\"\n    data-bs-keyboard=\"false\"\n    tabindex=\"-1\"\n    aria-labelledby=\"transactionReceiptLabel\"\n    aria-hidden=\"true\"\n  >\n    <div class=\"modal-dialog modal-dialog-centered\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\"></div>\n        <div class=\"modal-body text-center\" v-if=\"isSubmit\">\n          <p>\n            Your transaction has been processed successfully.<br /><br />Transaction\n            Number<br /><span class=\"tr_num\">{{ transactionReceipt }}</span\n            ><br /><br />Please take a photo or screenshot the transaction number before\n            closing this window.\n          </p>\n        </div>\n        <div class=\"modal-body text-center\" v-else>\n          <p>\n            The transaction has been reviewed successfully.<br /><br />Transaction\n            Number<br /><span class=\"tr_num\">{{ transactionReceipt }}</span\n            ><br /><br />The transaction will now proceed for approval.\n          </p>\n        </div>\n        <div class=\"modal-footer d-flex justify-content-center\">\n          <button\n            class=\"btn btn-secondary\"\n            data-bs-dismiss=\"modal\"\n            @click=\"reloadPage()\"\n            :disabled=\"counter\"\n          >\n            <span\n              class=\"spinner-border spinner-border-sm\"\n              role=\"status\"\n              aria-hidden=\"true\"\n              v-if=\"counter\"\n            ></span>\n            Close\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  props: [\"transferTransactionID\", \"savingCounter\", \"transactionReceipt\"],\n  components: {},\n  watch: {\n    savingCounter: \"counterSaving\",\n  },\n  transactionReceipt: {\n    handler(val) {\n      this.transferTransactionReceipt();\n    },\n    deep: true,\n  },\n  computed: {\n    /***\n     * Searches through table data and returns a paginated array.\n     * Note that this should not be used for table with a lot of data as it might be slow!\n     * Do the search and the pagination on the server and display the data retrieved from server instead.\n     * @returns {computed.pagedData}\n     */\n  },\n  data() {\n    return {\n      counter: true,\n      isSubmit: true,\n      transactionData: [],\n    };\n  },\n  mounted() {\n    this.isEditParagraph();\n  },\n  methods: {\n    transferTransactionReceipt() {\n      this.transactionData = this.transactionReceipt;\n\n      console.log(\"Transaction Data:\", this.transactionData);\n    },\n    isEditParagraph() {\n      if (\n        sessionStorage.getItem(\"Position\") == \"Reviewer\" ||\n        sessionStorage.getItem(\"Position\") == \"Approver\"\n      ) {\n        this.isSubmit = false;\n      }\n    },\n    reloadPage() {\n      // const submitdatemodal = new bootstrap.Modal(\"#submiteditauthorizeddatemodal\");\n      // submitdatemodal.show();\n\n      var holderName = this.convertToAlphanumeric(\"name\");\n      var holderplID = this.convertToAlphanumeric(\"plID\");\n      var holderDateStart = this.convertToAlphanumeric(\"dateStart\");\n      var holderDateEnd = this.convertToAlphanumeric(\"dateEnd\");\n      var holderEmail = this.convertToAlphanumeric(\"email\");\n      var holderUserID = this.convertToAlphanumeric(\"userID\");\n      var holderStatus = this.convertToAlphanumeric(\"status\");\n      var holderCompany = this.convertToAlphanumeric(\"company\");\n      var holderRegenerate = this.convertToAlphanumeric(\"regenerate\");\n\n      console.log(\"Transaction ID:\", this.transferTransactionID);\n      console.log(\"Transaction Receipt:\", this.transactionReceipt);\n\n      window.open(\n        \"http://192.168.0.7:90/api/generatePDF?\" +\n          holderName +\n          \"=\" +\n          this.transactionReceipt.transferTransactionPromoName +\n          \"&\" +\n          holderplID +\n          \"=\" +\n          this.transactionReceipt.transferTransactionID +\n          \"&\" +\n          holderDateStart +\n          \"=\" +\n          this.transactionReceipt.dateStarted +\n          \"&\" +\n          holderDateEnd +\n          \"=\" +\n          this.transactionReceipt.dateEnded +\n          \"&\" +\n          holderEmail +\n          \"=\" +\n          this.transactionReceipt.transferTransactionPromoEmail +\n          \"&\" +\n          holderUserID +\n          \"=\" +\n          sessionStorage.getItem(\"UserID\") +\n          \"&\" +\n          holderStatus +\n          \"=\" +\n          this.transactionReceipt.status +\n          \"&\" +\n          holderCompany +\n          \"=\" +\n          sessionStorage.getItem(\"Company\") +\n          \"&\" +\n          holderRegenerate +\n          \"=generate\",\n        \"_blank\"\n      );\n      if (\n        sessionStorage.getItem(\"Position\") == \"Reviewer\" ||\n        sessionStorage.getItem(\"Position\") == \"Approver\"\n      )\n        this.$router.push({\n          path: \"/pull-out/requests\",\n        });\n      else\n        this.$router.push({\n          path: \"/pull-out/pullout-transaction\",\n        });\n    },\n    counterSaving() {\n      setTimeout(() => {\n        this.counter = false;\n      }, this.savingCounter * 1000);\n    },\n    convertToAlphanumeric(input) {\n      let result = \"\";\n\n      for (let i = 0; i < input.length; i++) {\n        const char = input[i];\n        const charCode = char.charCodeAt(0);\n\n        // Check if the character is alphanumeric\n        if (\n          (char >= \"0\" && char <= \"9\") ||\n          (char >= \"a\" && char <= \"z\") ||\n          (char >= \"A\" && char <= \"Z\")\n        ) {\n          // Convert the character code to a base-36 alphanumeric representation\n          const alphanumericChar = charCode.toString(36);\n          result += alphanumericChar;\n        } else {\n          // Non-alphanumeric characters are left unchanged\n          result += char;\n        }\n      }\n\n      return result;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.tr_num {\n  font-size: 35px;\n  font-weight: 700;\n}\n</style>\n"],"mappings":";;AAiDA;EACAA,KAAA;EACAC,UAAA;EACAC,KAAA;IACAC,aAAA;EACA;EACAC,kBAAA;IACAC,OAAA,WAAAA,QAAAC,GAAA;MACA,KAAAC,0BAAA;IACA;IACAC,IAAA;EACA;EACAC,QAAA,GAOA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,OAAA;MACAC,QAAA;MACAC,eAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAC,eAAA;EACA;EACAC,OAAA;IACAT,0BAAA,WAAAA,2BAAA;MACA,KAAAM,eAAA,QAAAT,kBAAA;MAEAa,OAAA,CAAAC,GAAA,2BAAAL,eAAA;IACA;IACAE,eAAA,WAAAA,gBAAA;MACA,IACAI,cAAA,CAAAC,OAAA,8BACAD,cAAA,CAAAC,OAAA,4BACA;QACA,KAAAR,QAAA;MACA;IACA;IACAS,UAAA,WAAAA,WAAA;MAIA,IAAAC,UAAA,QAAAC,qBAAA;MACA,IAAAC,UAAA,QAAAD,qBAAA;MACA,IAAAE,eAAA,QAAAF,qBAAA;MACA,IAAAG,aAAA,QAAAH,qBAAA;MACA,IAAAI,WAAA,QAAAJ,qBAAA;MACA,IAAAK,YAAA,QAAAL,qBAAA;MACA,IAAAM,YAAA,QAAAN,qBAAA;MACA,IAAAO,aAAA,QAAAP,qBAAA;MACA,IAAAQ,gBAAA,QAAAR,qBAAA;MAEAN,OAAA,CAAAC,GAAA,yBAAAc,qBAAA;MACAf,OAAA,CAAAC,GAAA,8BAAAd,kBAAA;MAEA6B,MAAA,CAAAC,IAAA,CACA,2CACAZ,UAAA,GACA,MACA,KAAAlB,kBAAA,CAAA+B,4BAAA,GACA,MACAX,UAAA,GACA,MACA,KAAApB,kBAAA,CAAA4B,qBAAA,GACA,MACAP,eAAA,GACA,MACA,KAAArB,kBAAA,CAAAgC,WAAA,GACA,MACAV,aAAA,GACA,MACA,KAAAtB,kBAAA,CAAAiC,SAAA,GACA,MACAV,WAAA,GACA,MACA,KAAAvB,kBAAA,CAAAkC,6BAAA,GACA,MACAV,YAAA,GACA,MACAT,cAAA,CAAAC,OAAA,aACA,MACAS,YAAA,GACA,MACA,KAAAzB,kBAAA,CAAAmC,MAAA,GACA,MACAT,aAAA,GACA,MACAX,cAAA,CAAAC,OAAA,cACA,MACAW,gBAAA,GACA,aACA,QACA;MACA,IACAZ,cAAA,CAAAC,OAAA,8BACAD,cAAA,CAAAC,OAAA,4BAEA,KAAAoB,OAAA,CAAAC,IAAA;QACAC,IAAA;MACA,QAEA,KAAAF,OAAA,CAAAC,IAAA;QACAC,IAAA;MACA;IACA;IACAC,aAAA,WAAAA,cAAA;MAAA,IAAAC,KAAA;MACAC,UAAA;QACAD,KAAA,CAAAjC,OAAA;MACA,QAAAR,aAAA;IACA;IACAoB,qBAAA,WAAAA,sBAAAuB,KAAA;MACA,IAAAC,MAAA;MAEA,SAAAC,CAAA,MAAAA,CAAA,GAAAF,KAAA,CAAAG,MAAA,EAAAD,CAAA;QACA,IAAAE,IAAA,GAAAJ,KAAA,CAAAE,CAAA;QACA,IAAAG,QAAA,GAAAD,IAAA,CAAAE,UAAA;QAGA,IACAF,IAAA,WAAAA,IAAA,WACAA,IAAA,WAAAA,IAAA,WACAA,IAAA,WAAAA,IAAA,SACA;UAEA,IAAAG,gBAAA,GAAAF,QAAA,CAAAG,QAAA;UACAP,MAAA,IAAAM,gBAAA;QACA;UAEAN,MAAA,IAAAG,IAAA;QACA;MACA;MAEA,OAAAH,MAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
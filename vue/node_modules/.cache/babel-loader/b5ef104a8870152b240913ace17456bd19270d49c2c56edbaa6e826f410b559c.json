{"ast":null,"code":"import { CollapseTransition } from \"vue2-transitions\";\nimport linkName from \"../../../linkName\";\nimport axiosClient from \"../../../axios\";\nexport default {\n  components: {\n    CollapseTransition\n  },\n  props: {\n    name: {\n      type: String,\n      default: \"\"\n    },\n    menu: {\n      type: Boolean,\n      default: false,\n      description: \"Whether item is a menu containing multiple items\"\n    },\n    link: {\n      type: Object,\n      default: () => {\n        return {\n          name: \"\",\n          path: \"\",\n          children: []\n        };\n      },\n      description: \"Link object\"\n    }\n  },\n  provide() {\n    return {\n      addLink: this.addChild,\n      removeLink: this.removeChild\n    };\n  },\n  inject: {\n    addLink: {\n      default: null\n    },\n    removeLink: {\n      default: null\n    },\n    autoClose: {\n      default: false\n    }\n  },\n  data() {\n    return {\n      children: [],\n      collapsed: true,\n      date: \"\",\n      time: \"\",\n      position: \"\"\n    };\n  },\n  created() {\n    setInterval(this.dateTime, 1000);\n  },\n  computed: {\n    baseComponent() {\n      return this.isMenu || this.link.isRoute ? \"li\" : \"router-link\";\n    },\n    isMenu() {\n      return this.children.length > 0 || this.menu === true;\n    },\n    isActive() {\n      if (this.$route) {\n        let matchingRoute = this.children.find(c => this.$route.path.startsWith(c.link.path));\n        if (matchingRoute !== undefined) {\n          return true;\n        }\n      }\n      return false;\n    }\n  },\n  methods: {\n    dateTime() {\n      const today = new Date();\n      const months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n      const formattedDate = months[today.getMonth()] + \" \" + (today.getDate() < 10 ? \"0\" : \"\") + today.getDate() + \", \" + today.getFullYear();\n      this.date = formattedDate;\n      const hours = today.getHours();\n      const minutes = today.getMinutes();\n      const seconds = today.getSeconds();\n      let formattedHours = hours % 12;\n      formattedHours = formattedHours === 0 ? 12 : formattedHours;\n      const period = hours >= 12 ? \"PM\" : \"AM\";\n      const formattedMinutes = minutes < 10 ? \"0\" + minutes : minutes;\n      const formattedSeconds = seconds < 10 ? \"0\" + seconds : seconds;\n      const time = formattedHours + \":\" + formattedMinutes + \":\" + formattedSeconds + \" \" + period;\n      this.time = time;\n      this.position = sessionStorage.getItem(\"Position\");\n    },\n    addChild(item) {\n      const index = this.$slots.default.indexOf(item.$vnode);\n      this.children.splice(index, 0, item);\n    },\n    removeChild(item) {\n      const tabs = this.children;\n      const index = tabs.indexOf(item);\n      tabs.splice(index, 1);\n    },\n    elementType(link, isParent = true) {\n      if (link.isRoute === false) {\n        return isParent ? \"li\" : \"a\";\n      } else {\n        return \"router-link\";\n      }\n    },\n    collapseMenu() {\n      this.collapsed = !this.collapsed;\n    },\n    onItemClick() {\n      if (this.autoClose) {\n        this.$sidebar.showSidebar = false;\n      }\n      if (this.link.name == \"Logout\") this.logout();else linkName.val = this.link.name;\n    },\n    logout() {\n      axiosClient.post(\"/logout\").then(response => {\n        sessionStorage.removeItem(\"UserID\");\n        sessionStorage.removeItem(\"Token\");\n        sessionStorage.removeItem(\"Position\");\n        sessionStorage.removeItem(\"Company\");\n        sessionStorage.removeItem(\"Email\");\n        this.$router.push({\n          name: \"Login\"\n        });\n      });\n    }\n  },\n  mounted() {\n    if (this.addLink) {\n      this.addLink(this);\n    }\n    if (this.link.collapsed !== undefined) {\n      this.collapsed = this.link.collapsed;\n    }\n    if (this.isActive && this.isMenu) {\n      this.collapsed = false;\n    }\n  },\n  destroyed() {\n    if (this.$el && this.$el.parentNode) {\n      this.$el.parentNode.removeChild(this.$el);\n    }\n    if (this.removeLink) {\n      this.removeLink(this);\n    }\n  }\n};","map":{"version":3,"names":["CollapseTransition","linkName","axiosClient","components","props","name","type","String","default","menu","Boolean","description","link","Object","path","children","provide","addLink","addChild","removeLink","removeChild","inject","autoClose","data","collapsed","date","time","position","created","setInterval","dateTime","computed","baseComponent","isMenu","isRoute","length","isActive","$route","matchingRoute","find","c","startsWith","undefined","methods","today","Date","months","formattedDate","getMonth","getDate","getFullYear","hours","getHours","minutes","getMinutes","seconds","getSeconds","formattedHours","period","formattedMinutes","formattedSeconds","sessionStorage","getItem","item","index","$slots","indexOf","$vnode","splice","tabs","elementType","isParent","collapseMenu","onItemClick","$sidebar","showSidebar","logout","val","post","then","response","removeItem","$router","push","mounted","destroyed","$el","parentNode"],"sources":["src/components/UIComponents/SidebarPlugin/SidebarItem.vue"],"sourcesContent":["<template>\n  <component\n    :is=\"baseComponent\"\n    :to=\"link.path ? link.path : '/'\"\n    :class=\"{ active: isActive || $route.fullPath.startsWith(link.path) }\"\n    tag=\"li\"\n  >\n    <div v-if=\"link.name == 'UserPromo'\" class=\"user\">\n      <div class=\"photo\">\n        <img src=\"static/img/faces/user-icon.png\" alt=\"user avatar\" />\n        <!-- import router from \"../../../routes/routes\"; -->\n      </div>\n      <div class=\"info\">\n        <a v-if=\"isMenu\" data-toggle=\"collapse\" href=\"#\" @click.prevent=\"collapseMenu\">\n          <span>\n            {{ name }}\n            <b class=\"caret\" :class=\"{ rotated: !collapsed }\"></b>\n          </span>\n          <span class=\"simple-text customize-datetimeposition\">\n            {{ position }}\n          </span>\n          <span class=\"simple-text customize-datetimeposition\">\n            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Date:\n            {{ date }}\n          </span>\n          <span class=\"simple-text customize-datetimeposition\">\n            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Time:\n            {{ time }}\n          </span>\n        </a>\n\n        <collapse-transition v-if=\"$slots.default || this.isMenu\">\n          <div v-show=\"!collapsed\" class=\"collapse-menu\">\n            <ul class=\"nav\">\n              <slot></slot>\n            </ul>\n          </div>\n        </collapse-transition>\n\n        <slot name=\"title\" v-if=\"children.length === 0 && !$slots.default && link.path\">\n          <component\n            :to=\"link.path\"\n            :is=\"elementType(link, false)\"\n            :class=\"{ active: link.active }\"\n            :target=\"link.target\"\n            @click.native.stop=\"onItemClick\"\n            :href=\"link.path\"\n          >\n            <template v-if=\"addLink\">\n              <span class=\"sidebar-mini-icon\">{{ link.name.substring(0, 1) }}</span>\n              <span class=\"sidebar-normal\">{{ link.name }}</span>\n            </template>\n            <template v-else>\n              <i :class=\"link.icon\"></i>\n              <p>{{ link.name }}</p>\n            </template>\n          </component>\n        </slot>\n      </div>\n    </div>\n    <a\n      v-if=\"isMenu && link.name != 'UserPromo'\"\n      data-toggle=\"collapse\"\n      href=\"#\"\n      @click.prevent=\"collapseMenu\"\n    >\n      <i :class=\"link.icon\"></i>\n      <p>\n        {{ link.name }}\n        <b class=\"caret\" :class=\"{ rotated: !collapsed }\"></b>\n      </p>\n    </a>\n    <collapse-transition\n      v-if=\"($slots.default || this.isMenu) && this.link.name != 'UserPromo'\"\n    >\n      <div v-show=\"!collapsed\" class=\"collapse-menu\">\n        <ul class=\"nav\">\n          <slot></slot>\n        </ul>\n      </div>\n    </collapse-transition>\n    <slot name=\"title\" v-if=\"children.length === 0 && !$slots.default && link.path\">\n      <component\n        :to=\"link.path\"\n        :is=\"elementType(link, false)\"\n        :class=\"{ active: link.active }\"\n        :target=\"link.target\"\n        @click.native.stop=\"onItemClick\"\n        :href=\"link.path\"\n      >\n        <template v-if=\"addLink\">\n          <span class=\"sidebar-mini-icon\">{{ link.name.substring(0, 1) }}</span>\n          <span class=\"sidebar-normal\">{{ link.name }}</span>\n        </template>\n        <template v-else>\n          <i :class=\"link.icon\"></i>\n          <p>{{ link.name }}</p>\n        </template>\n      </component>\n    </slot>\n  </component>\n</template>\n<script>\nimport { CollapseTransition } from \"vue2-transitions\";\nimport linkName from \"../../../linkName\";\nimport axiosClient from \"../../../axios\";\n\nexport default {\n  components: {\n    CollapseTransition,\n  },\n  props: {\n    name: {\n      type: String,\n      default: \"\",\n    },\n    menu: {\n      type: Boolean,\n      default: false,\n      description: \"Whether item is a menu containing multiple items\",\n    },\n    link: {\n      type: Object,\n      default: () => {\n        return {\n          name: \"\",\n          path: \"\",\n          children: [],\n        };\n      },\n      description: \"Link object\",\n    },\n  },\n  provide() {\n    return {\n      addLink: this.addChild,\n      removeLink: this.removeChild,\n    };\n  },\n  inject: {\n    addLink: { default: null },\n    removeLink: { default: null },\n    autoClose: { default: false },\n  },\n  data() {\n    return {\n      children: [],\n      collapsed: true,\n      date: \"\",\n      time: \"\",\n      position: \"\",\n    };\n  },\n  created() {\n    setInterval(this.dateTime, 1000);\n  },\n  computed: {\n    baseComponent() {\n      return this.isMenu || this.link.isRoute ? \"li\" : \"router-link\";\n    },\n    isMenu() {\n      return this.children.length > 0 || this.menu === true;\n    },\n    isActive() {\n      if (this.$route) {\n        let matchingRoute = this.children.find((c) =>\n          this.$route.path.startsWith(c.link.path)\n        );\n        if (matchingRoute !== undefined) {\n          return true;\n        }\n      }\n      return false;\n    },\n  },\n  methods: {\n    dateTime() {\n      const today = new Date();\n      const months = [\n        \"January\",\n        \"February\",\n        \"March\",\n        \"April\",\n        \"May\",\n        \"June\",\n        \"July\",\n        \"August\",\n        \"September\",\n        \"October\",\n        \"November\",\n        \"December\",\n      ];\n      const formattedDate =\n        months[today.getMonth()] +\n        \" \" +\n        (today.getDate() < 10 ? \"0\" : \"\") +\n        today.getDate() +\n        \", \" +\n        today.getFullYear();\n\n      this.date = formattedDate;\n\n      const hours = today.getHours();\n      const minutes = today.getMinutes();\n      const seconds = today.getSeconds();\n\n      let formattedHours = hours % 12;\n      formattedHours = formattedHours === 0 ? 12 : formattedHours;\n\n      const period = hours >= 12 ? \"PM\" : \"AM\";\n      const formattedMinutes = minutes < 10 ? \"0\" + minutes : minutes;\n      const formattedSeconds = seconds < 10 ? \"0\" + seconds : seconds;\n\n      const time =\n        formattedHours + \":\" + formattedMinutes + \":\" + formattedSeconds + \" \" + period;\n      // const dateTime = date + ' ' + time;\n\n      this.time = time;\n      // console.log(\"Date:\", this.date);\n\n      this.position = sessionStorage.getItem(\"Position\");\n    },\n    addChild(item) {\n      const index = this.$slots.default.indexOf(item.$vnode);\n      this.children.splice(index, 0, item);\n    },\n    removeChild(item) {\n      const tabs = this.children;\n      const index = tabs.indexOf(item);\n      tabs.splice(index, 1);\n    },\n    elementType(link, isParent = true) {\n      if (link.isRoute === false) {\n        return isParent ? \"li\" : \"a\";\n      } else {\n        return \"router-link\";\n      }\n    },\n    collapseMenu() {\n      this.collapsed = !this.collapsed;\n    },\n    onItemClick() {\n      if (this.autoClose) {\n        this.$sidebar.showSidebar = false;\n      }\n      if (this.link.name == \"Logout\") this.logout();\n      else linkName.val = this.link.name;\n    },\n    logout() {\n      axiosClient.post(\"/logout\").then((response) => {\n        // console.log(response);\n        sessionStorage.removeItem(\"UserID\");\n        sessionStorage.removeItem(\"Token\");\n        sessionStorage.removeItem(\"Position\");\n        sessionStorage.removeItem(\"Company\");\n        sessionStorage.removeItem(\"Email\");\n        this.$router.push({ name: \"Login\" });\n      });\n    },\n  },\n  mounted() {\n    if (this.addLink) {\n      this.addLink(this);\n    }\n    if (this.link.collapsed !== undefined) {\n      this.collapsed = this.link.collapsed;\n    }\n    if (this.isActive && this.isMenu) {\n      this.collapsed = false;\n    }\n  },\n  destroyed() {\n    if (this.$el && this.$el.parentNode) {\n      this.$el.parentNode.removeChild(this.$el);\n    }\n    if (this.removeLink) {\n      this.removeLink(this);\n    }\n  },\n};\n</script>\n<style scoped>\n.caret.rotated {\n  transform: rotate(180deg);\n}\n\n.customize-datetimeposition {\n  font-size: 12px !important;\n}\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { CollapseTransition } from \"vue2-transitions\";\nimport axiosClient from \"../../../axios\";\nimport PromoProfile from \"./PromoProfile.vue\";\nexport default {\n  components: {\n    CollapseTransition,\n    PromoProfile\n  },\n  data() {\n    return {\n      isClosed: true,\n      name: \"\",\n      date: \"\",\n      time: \"\"\n    };\n  },\n  created() {\n    setInterval(this.dateTime, 1000);\n  },\n  mounted() {\n    this.fetchData();\n  },\n  methods: {\n    dateTime() {\n      const today = new Date();\n      const hours = today.getHours();\n      const minutes = today.getMinutes();\n      const seconds = today.getSeconds();\n      const formattedMinutes = minutes < 10 ? \"0\" + minutes : minutes;\n      const formattedSeconds = seconds < 10 ? \"0\" + seconds : seconds;\n      const time = hours + \":\" + formattedMinutes + \":\" + formattedSeconds;\n      this.time = time;\n    },\n    fetchData() {\n      axiosClient.get(\"/users\", {\n        params: {\n          email: sessionStorage.getItem(\"Email\")\n        }\n      }).then(response => {\n        console.log(\"Success User Response:\", response.data);\n        this.name = response.data[0].name;\n      }).catch(error => {\n        console.error(error);\n      });\n      const today = new Date();\n      const date = today.getFullYear() + \"-\" + (today.getMonth() + 1) + \"-\" + today.getDate();\n      this.date = date;\n    },\n    toggleMenu() {\n      this.isClosed = !this.isClosed;\n    },\n    logout() {\n      axiosClient.post(\"/logout\").then(response => {\n        sessionStorage.removeItem(\"UserID\");\n        sessionStorage.removeItem(\"Token\");\n        sessionStorage.removeItem(\"Position\");\n        sessionStorage.removeItem(\"Company\");\n        sessionStorage.removeItem(\"Email\");\n        this.$router.push({\n          name: \"Login\"\n        });\n      });\n    }\n  }\n};","map":{"version":3,"names":["CollapseTransition","axiosClient","PromoProfile","components","data","isClosed","name","date","time","created","setInterval","dateTime","mounted","fetchData","methods","today","Date","hours","getHours","minutes","getMinutes","seconds","getSeconds","formattedMinutes","formattedSeconds","get","params","email","sessionStorage","getItem","then","response","console","log","catch","error","getFullYear","getMonth","getDate","toggleMenu","logout","post","removeItem","$router","push"],"sources":["src/components/UIComponents/SidebarPlugin/UserMenu.vue"],"sourcesContent":["<template>\n  <div class=\"user\">\n    <div class=\"photo\">\n      <img src=\"static/img/faces/user-icon.png\" alt=\"user avatar\" />\n      import router from \"../../../routes/routes\";\n    </div>\n\n    <div class=\"info\">\n      <a data-toggle=\"collapse\" :aria-expanded=\"!isClosed\" @click=\"toggleMenu\" href=\"#\">\n        <span>\n          {{ name }}\n          <b class=\"caret\"></b>\n        </span>\n      </a>\n      <div>\n        <span class=\"simple-text\"> Date Today: {{ date }} </span>\n        <span class=\"simple-text\"> Time Today: {{ time }} </span>\n      </div>\n      <div class=\"clearfix\"></div>\n      <div>\n        <collapse-transition>\n          <ul class=\"nav nav-menu\" v-show=\"!isClosed\">\n            <li>\n              <a href=\"#\">\n                <span class=\"sidebar-mini-icon\">Mp</span>\n                <span class=\"sidebar-normal\">My Profile</span>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" data-bs-target=\"#promoProfile\" data-bs-toggle=\"modal\">\n                <span class=\"sidebar-mini-icon\">Ep</span>\n                <span class=\"sidebar-normal\">Edit Profile</span>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" @click=\"logout\">\n                <span class=\"sidebar-mini-icon\">L</span>\n                <span class=\"sidebar-normal\">Logout</span>\n              </a>\n            </li>\n          </ul>\n        </collapse-transition>\n      </div>\n    </div>\n    <PromoProfile></PromoProfile>\n  </div>\n</template>\n<script>\nimport { CollapseTransition } from \"vue2-transitions\";\nimport axiosClient from \"../../../axios\";\nimport PromoProfile from \"./PromoProfile.vue\";\n\nexport default {\n  components: {\n    CollapseTransition,\n    PromoProfile,\n  },\n  data() {\n    return {\n      isClosed: true,\n      name: \"\",\n      date: \"\",\n      time: \"\",\n    };\n  },\n  created() {\n    setInterval(this.dateTime, 1000);\n  },\n  mounted() {\n    this.fetchData();\n    // this.dateTime();\n  },\n  methods: {\n    dateTime() {\n      const today = new Date();\n\n      const hours = today.getHours();\n      const minutes = today.getMinutes();\n      const seconds = today.getSeconds();\n\n      const formattedMinutes = minutes < 10 ? \"0\" + minutes : minutes;\n      const formattedSeconds = seconds < 10 ? \"0\" + seconds : seconds;\n\n      const time = hours + \":\" + formattedMinutes + \":\" + formattedSeconds;\n      // const dateTime = date + ' ' + time;\n\n      this.time = time;\n      // console.log(\"Date:\", this.date);\n    },\n\n    fetchData() {\n      axiosClient\n        .get(\"/users\", {\n          params: {\n            email: sessionStorage.getItem(\"Email\"),\n          },\n        })\n        .then((response) => {\n          console.log(\"Success User Response:\", response.data);\n          this.name = response.data[0].name;\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n\n      const today = new Date();\n      const date =\n        today.getFullYear() + \"-\" + (today.getMonth() + 1) + \"-\" + today.getDate();\n\n      this.date = date;\n    },\n    toggleMenu() {\n      this.isClosed = !this.isClosed;\n    },\n    logout() {\n      axiosClient.post(\"/logout\").then((response) => {\n        // console.log(response);\n        sessionStorage.removeItem(\"UserID\");\n        sessionStorage.removeItem(\"Token\");\n        sessionStorage.removeItem(\"Position\");\n        sessionStorage.removeItem(\"Company\");\n        sessionStorage.removeItem(\"Email\");\n        this.$router.push({ name: \"Login\" });\n      });\n    },\n  },\n};\n</script>\n<style scoped>\n.nav.nav-menu {\n  margin-top: 0;\n}\n</style>\n"],"mappings":"AAgDA,SAAAA,kBAAA;AACA,OAAAC,WAAA;AACA,OAAAC,YAAA;AAEA;EACAC,UAAA;IACAH,kBAAA;IACAE;EACA;EACAE,KAAA;IACA;MACAC,QAAA;MACAC,IAAA;MACAC,IAAA;MACAC,IAAA;IACA;EACA;EACAC,QAAA;IACAC,WAAA,MAAAC,QAAA;EACA;EACAC,QAAA;IACA,KAAAC,SAAA;EAEA;EACAC,OAAA;IACAH,SAAA;MACA,MAAAI,KAAA,OAAAC,IAAA;MAEA,MAAAC,KAAA,GAAAF,KAAA,CAAAG,QAAA;MACA,MAAAC,OAAA,GAAAJ,KAAA,CAAAK,UAAA;MACA,MAAAC,OAAA,GAAAN,KAAA,CAAAO,UAAA;MAEA,MAAAC,gBAAA,GAAAJ,OAAA,cAAAA,OAAA,GAAAA,OAAA;MACA,MAAAK,gBAAA,GAAAH,OAAA,cAAAA,OAAA,GAAAA,OAAA;MAEA,MAAAb,IAAA,GAAAS,KAAA,SAAAM,gBAAA,SAAAC,gBAAA;MAGA,KAAAhB,IAAA,GAAAA,IAAA;IAEA;IAEAK,UAAA;MACAZ,WAAA,CACAwB,GAAA;QACAC,MAAA;UACAC,KAAA,EAAAC,cAAA,CAAAC,OAAA;QACA;MACA,GACAC,IAAA,CAAAC,QAAA;QACAC,OAAA,CAAAC,GAAA,2BAAAF,QAAA,CAAA3B,IAAA;QACA,KAAAE,IAAA,GAAAyB,QAAA,CAAA3B,IAAA,IAAAE,IAAA;MACA,GACA4B,KAAA,CAAAC,KAAA;QACAH,OAAA,CAAAG,KAAA,CAAAA,KAAA;MACA;MAEA,MAAApB,KAAA,OAAAC,IAAA;MACA,MAAAT,IAAA,GACAQ,KAAA,CAAAqB,WAAA,YAAArB,KAAA,CAAAsB,QAAA,gBAAAtB,KAAA,CAAAuB,OAAA;MAEA,KAAA/B,IAAA,GAAAA,IAAA;IACA;IACAgC,WAAA;MACA,KAAAlC,QAAA,SAAAA,QAAA;IACA;IACAmC,OAAA;MACAvC,WAAA,CAAAwC,IAAA,YAAAX,IAAA,CAAAC,QAAA;QAEAH,cAAA,CAAAc,UAAA;QACAd,cAAA,CAAAc,UAAA;QACAd,cAAA,CAAAc,UAAA;QACAd,cAAA,CAAAc,UAAA;QACAd,cAAA,CAAAc,UAAA;QACA,KAAAC,OAAA,CAAAC,IAAA;UAAAtC,IAAA;QAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
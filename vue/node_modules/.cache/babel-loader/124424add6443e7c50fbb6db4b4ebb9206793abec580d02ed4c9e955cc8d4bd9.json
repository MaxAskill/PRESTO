{"ast":null,"code":"import _Popconfirm2 from \"element-ui/lib/theme-chalk/popconfirm.css\";\nimport \"element-ui/lib/theme-chalk/base.css\";\nimport _Popconfirm from \"element-ui/lib/popconfirm\";\nimport _Tooltip2 from \"element-ui/lib/theme-chalk/tooltip.css\";\nimport \"element-ui/lib/theme-chalk/base.css\";\nimport _Tooltip from \"element-ui/lib/tooltip\";\nimport \"core-js/modules/es.string.pad-start.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport Vue from \"vue\";\nimport axiosClient from \"../../../../axios\";\nimport PromoAssignBranchByAgentModal from \"./PromoAssignBranchByAgentModal.vue\";\nVue.use(_Tooltip);\nVue.use(_Popconfirm);\nexport default {\n  components: {\n    PromoAssignBranchByAgentModal: PromoAssignBranchByAgentModal\n  },\n  watch: {},\n  props: [\"promoData\", \"promoDetails\", \"dateBranchEnd\"],\n  computed: {},\n  data: function data() {\n    return {\n      tempBranchEditID: null,\n      editStartDate: \"\",\n      editEndDate: \"\"\n    };\n  },\n  mounted: function mounted() {},\n  methods: {\n    editTempBranch: function editTempBranch(id, dateStart, dateEnd) {\n      this.tempBranchEditID = id;\n      this.editStartDate = this.convertDateFormat(dateStart);\n      this.editEndDate = this.convertDateFormat(dateEnd);\n    },\n    convertDateFormat: function convertDateFormat(date) {\n      var inputDate = new Date(date);\n      var year = inputDate.getFullYear();\n      var month = (inputDate.getMonth() + 1).toString().padStart(2, \"0\");\n      var day = inputDate.getDate().toString().padStart(2, \"0\");\n      return year + \"-\" + month + \"-\" + day;\n    }\n  }\n};","map":{"version":3,"names":["Vue","axiosClient","PromoAssignBranchByAgentModal","use","_Tooltip","_Popconfirm","components","watch","props","computed","data","tempBranchEditID","editStartDate","editEndDate","mounted","methods","editTempBranch","id","dateStart","dateEnd","convertDateFormat","date","inputDate","Date","year","getFullYear","month","getMonth","toString","padStart","day","getDate"],"sources":["src/components/Dashboard/Views/PullOut/PromoDetailsModal.vue"],"sourcesContent":["<template>\n  <div>\n    <div\n      class=\"modal fade\"\n      id=\"promoDetailsModal\"\n      tabindex=\"-1\"\n      aria-labelledby=\"promoDetailsModalLabel\"\n      aria-hidden=\"true\"\n    >\n      <div class=\"modal-dialog modal-dialog-centered modal-xl\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header py-3\">\n            <span style=\"font-size: 16px\"\n              >Promo Name:\n              <b style=\"font-size: 16px; text-transform: uppercase\">{{\n                promoData.name\n              }}</b></span\n            ><br />\n            <span\n              >Email: <b>{{ promoData.email }}</b></span\n            >\n          </div>\n          <div class=\"modal-body row pt-2 pb-3 px-4\">\n            <span class=\"text-center mb-2\" style=\"font-size: 13px\">\n              <b>{{ promoDetails.length }} Assigned Branch:</b>\n            </span>\n            <div style=\"overflow-x: auto; min-width: 350px\">\n              <table class=\"table table-borderless\">\n                <thead>\n                  <tr>\n                    <th scope=\"col\" class=\"labelRows\">Company</th>\n                    <th scope=\"col\" class=\"labelRows\">Chain Name</th>\n                    <th scope=\"col\" class=\"labelRows\">Branch Name</th>\n                    <th scope=\"col\" class=\"labelRows\">Start Date</th>\n                    <th scope=\"col\" class=\"labelRows\">Expiry Date</th>\n                    <th scope=\"col\" class=\"labelRows\">Actions</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr v-for=\"details in promoDetails\">\n                    <td\n                      :class=\"\n                        details.expired\n                          ? details.expired == 'expired'\n                            ? 'cell text-nowrap py-1 expiredCSS'\n                            : 'cell text-nowrap py-1 removedCSS'\n                          : 'cell text-nowrap py-1'\n                      \"\n                    >\n                      {{ details.company }}\n                    </td>\n                    <td\n                      :class=\"\n                        details.expired\n                          ? details.expired == 'expired'\n                            ? 'cell text-nowrap py-1 expiredCSS'\n                            : 'cell text-nowrap py-1 removedCSS'\n                          : 'cell text-nowrap py-1'\n                      \"\n                    >\n                      {{ details.chainCode }}\n                    </td>\n                    <td\n                      :class=\"\n                        details.expired\n                          ? details.expired == 'expired'\n                            ? 'cell text-nowrap py-1 expiredCSS'\n                            : 'cell text-nowrap py-1 removedCSS'\n                          : 'cell text-nowrap py-1'\n                      \"\n                    >\n                      <el-tooltip\n                        v-if=\"details.permanent\"\n                        effect=\"light\"\n                        content=\"Permanent Branch\"\n                        placement=\"top-start\"\n                      >\n                        <span class=\"p-icon\">P</span></el-tooltip\n                      >\n                      <el-tooltip\n                        v-else-if=\"!details.permanent\"\n                        effect=\"light\"\n                        content=\"Temporary Branch\"\n                        placement=\"top-start\"\n                      >\n                        <span class=\"t-icon\">T</span>\n                      </el-tooltip>\n                      &nbsp;{{ details.branchName }}\n                    </td>\n                    <!-- if(details.id == current_id && edit_mode) -->\n                    <td v-if=\"tempBranchEditID == details.id\">\n                      <el-date-picker\n                        v-model=\"editStartDate\"\n                        type=\"date\"\n                        placeholder=\"Pick a date\"\n                      >\n                      </el-date-picker>\n                    </td>\n                    <td\n                      v-else\n                      :class=\"\n                        details.expired\n                          ? details.expired == 'expired'\n                            ? 'cell text-nowrap py-1 expiredCSS'\n                            : 'cell text-nowrap py-1 removedCSS'\n                          : 'cell text-nowrap py-1'\n                      \"\n                    >\n                      {{ details.dateStart }}\n                    </td>\n                    <td v-if=\"tempBranchEditID == details.id\">\n                      <el-date-picker\n                        v-model=\"editEndDate\"\n                        type=\"date\"\n                        placeholder=\"Pick a date\"\n                      >\n                      </el-date-picker>\n                    </td>\n                    <td\n                      v-else\n                      :class=\"\n                        details.expired\n                          ? details.expired == 'expired'\n                            ? 'cell text-nowrap py-1 expiredCSS'\n                            : 'cell text-nowrap py-1 removedCSS'\n                          : 'cell text-nowrap py-1'\n                      \"\n                    >\n                      {{ details.dateEnd }}\n                    </td>\n                    <td class=\"cell text-nowrap py-1\">\n                      <p-button\n                        v-if=\"!details.expired && !details.permanent\"\n                        type=\"success\"\n                        size=\"sm\"\n                        icon\n                        @click=\"\n                          editTempBranch(details.id, details.dateStart, details.dateEnd)\n                        \"\n                      >\n                        <i class=\"fa fa-edit\"></i>\n                      </p-button>\n\n                      <el-popconfirm\n                        width=\"280\"\n                        confirm-button-text=\"Confirm\"\n                        cancel-button-text=\"Cancel\"\n                        icon-color=\"#c45656\"\n                        title=\"Are you sure you want to remove this temporary branch?\"\n                      >\n                        <!-- @confirm=\"handleDelete(true, props.$index, props.row)\"\n                        @cancel=\"handleDelete(false, props.$index, props.row)\" -->\n                        <p-button\n                          v-if=\"!details.expired && !details.permanent\"\n                          slot=\"reference\"\n                          type=\"danger\"\n                          size=\"sm\"\n                          icon\n                        >\n                          <i class=\"fa fa-times\"></i>\n                        </p-button>\n                      </el-popconfirm>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n            <!-- <div class=\"d-flex mt-2 text-center\">\n            <span class=\"labelRows col-12\">Date Branch Expiration</span>\n          </div>\n          <div class=\"d-flex mt-1 text-center\">\n            <span class=\"col-12\">{{ dateBranchEnd }}</span>\n          </div> -->\n\n            <!-- <span class=\"text-center mb-3\" style=\"font-size: 13px\">\n            <b>{{ promoDetails.length }} Assigned Branch:</b>\n          </span>\n          <div class=\"d-flex\">\n            <span class=\"labelRows col-3 text-nowrap\">Company</span>\n            <span class=\"labelRows col-3\">Chain Name</span>\n            <span class=\"labelRows col-6\">Branch Name</span>\n          </div>\n          <div class=\"d-flex mt-1\" v-for=\"details in promoDetails\">\n            <span class=\"col-3\">{{ details.company }}</span>\n            <span class=\"col-3\">{{ details.chainCode }}</span>\n            <span class=\"col-6\">{{ details.branchName }}</span>\n          </div>\n          <div class=\"d-flex mt-3 text-center\">\n            <span class=\"labelRows col-12\">Date Branch Expiration</span>\n          </div>\n          <div class=\"d-flex mt-1 text-center\">\n            <span class=\"col-12\">{{ dateBranchEnd }}</span>\n          </div> -->\n          </div>\n          <div class=\"modal-footer d-flex justify-content-center\">\n            <button class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n            <button\n              class=\"btn btn-success\"\n              data-bs-toggle=\"modal\"\n              data-bs-target=\"#promoAssignBranchByAgentModal\"\n            >\n              Add Temporary Branch\n            </button>\n            <!-- <button class=\"btn btn-primary\" data-bs-dismiss=\"modal\" @click=\"deactivate()\">\n            Proceed\n          </button> -->\n          </div>\n        </div>\n      </div>\n    </div>\n    <PromoAssignBranchByAgentModal\n      :promoData=\"promoData\"\n      :promoDetails=\"promoDetails\"\n    ></PromoAssignBranchByAgentModal>\n  </div>\n</template>\n<script>\nimport Vue from \"vue\";\nimport axiosClient from \"../../../../axios\";\nimport { Tooltip, Popconfirm } from \"element-ui\";\nimport PromoAssignBranchByAgentModal from \"./PromoAssignBranchByAgentModal.vue\";\n\nVue.use(Tooltip);\nVue.use(Popconfirm);\n\nexport default {\n  components: { PromoAssignBranchByAgentModal },\n  watch: {},\n  props: [\"promoData\", \"promoDetails\", \"dateBranchEnd\"],\n  computed: {\n    /***\n     * Searches through table data and returns a paginated array.\n     * Note that this should not be used for table with a lot of data as it might be slow!\n     * Do the search and the pagination on the server and display the data retrieved from server instead.\n     * @returns {computed.pagedData}\n     */\n  },\n  data() {\n    return {\n      tempBranchEditID: null,\n      editStartDate: \"\",\n      editEndDate: \"\",\n    };\n  },\n  mounted() {},\n  methods: {\n    editTempBranch(id, dateStart, dateEnd) {\n      this.tempBranchEditID = id;\n      this.editStartDate = this.convertDateFormat(dateStart);\n      this.editEndDate = this.convertDateFormat(dateEnd);\n      //convert dateStart Format\n    },\n    convertDateFormat(date) {\n      var inputDate = new Date(date);\n      var year = inputDate.getFullYear();\n      var month = (inputDate.getMonth() + 1).toString().padStart(2, \"0\"); // Months are zero-based\n      var day = inputDate.getDate().toString().padStart(2, \"0\");\n\n      return year + \"-\" + month + \"-\" + day;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.tr_num {\n  font-size: 35px;\n  font-weight: 700;\n}\n.labelRows {\n  font-size: 0.8571em !important;\n  color: #9a9a9a !important;\n  // margin-bottom: 5px;\n  white-space: nowrap !important;\n  padding: 7px !important;\n}\n.p-icon {\n  background-color: #6bd098;\n  padding: 0px 3px;\n  border-radius: 3px;\n  color: white;\n  font-size: 12px;\n  font-weight: 700;\n}\n.t-icon {\n  background-color: #31d2f2;\n  padding: 0px 4px;\n  border-radius: 3px;\n  color: white;\n  font-size: 12px;\n  font-weight: 700;\n}\n\n.expiredCSS {\n  text-decoration: line-through;\n  text-decoration-color: red;\n}\n.expiredCSS::before {\n  content: \"This temporary branch has expired.\";\n  position: absolute;\n  top: 0px; /* Adjust this value to position the tooltip as desired */\n  left: 50%;\n  transform: translateX(-50%);\n  background: red;\n  color: white;\n  padding: 5px;\n  border-radius: 5px;\n  opacity: 0;\n  transition: opacity 0.2s;\n  z-index: 1;\n}\n\n.expiredCSS:hover::before {\n  opacity: 1;\n}\n\n.removedCSS {\n  text-decoration: line-through;\n  text-decoration-color: red;\n}\n.removedCSS::before {\n  content: \"This temporary branch has been removed.\";\n  position: absolute;\n  top: 0px; /* Adjust this value to position the tooltip as desired */\n  left: 50%;\n  transform: translateX(-50%);\n  background: red;\n  color: white;\n  padding: 5px;\n  border-radius: 5px;\n  opacity: 0;\n  transition: opacity 0.2s;\n  z-index: 1;\n}\n\n.removedCSS:hover::before {\n  opacity: 1;\n}\n.el-input__inner {\n  width: 150px;\n}\n.el-date-editor .el-input .el-input--prefix .el-input--suffix .el-date-editor--date {\n  width: 150px;\n}\n</style>\n"],"mappings":";;;;;;;;;AAyNA,OAAAA,GAAA;AACA,OAAAC,WAAA;AAEA,OAAAC,6BAAA;AAEAF,GAAA,CAAAG,GAAA,CAAAC,QAAA;AACAJ,GAAA,CAAAG,GAAA,CAAAE,WAAA;AAEA;EACAC,UAAA;IAAAJ,6BAAA,EAAAA;EAAA;EACAK,KAAA;EACAC,KAAA;EACAC,QAAA,GAOA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,gBAAA;MACAC,aAAA;MACAC,WAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;EACAC,OAAA;IACAC,cAAA,WAAAA,eAAAC,EAAA,EAAAC,SAAA,EAAAC,OAAA;MACA,KAAAR,gBAAA,GAAAM,EAAA;MACA,KAAAL,aAAA,QAAAQ,iBAAA,CAAAF,SAAA;MACA,KAAAL,WAAA,QAAAO,iBAAA,CAAAD,OAAA;IAEA;IACAC,iBAAA,WAAAA,kBAAAC,IAAA;MACA,IAAAC,SAAA,OAAAC,IAAA,CAAAF,IAAA;MACA,IAAAG,IAAA,GAAAF,SAAA,CAAAG,WAAA;MACA,IAAAC,KAAA,IAAAJ,SAAA,CAAAK,QAAA,QAAAC,QAAA,GAAAC,QAAA;MACA,IAAAC,GAAA,GAAAR,SAAA,CAAAS,OAAA,GAAAH,QAAA,GAAAC,QAAA;MAEA,OAAAL,IAAA,SAAAE,KAAA,SAAAI,GAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import _Select2 from \"element-ui/lib/theme-chalk/select.css\";\nimport \"element-ui/lib/theme-chalk/base.css\";\nimport _Select from \"element-ui/lib/select\";\nimport _Option2 from \"element-ui/lib/theme-chalk/option.css\";\nimport \"element-ui/lib/theme-chalk/base.css\";\nimport _Option from \"element-ui/lib/option\";\nimport _DatePicker2 from \"element-ui/lib/theme-chalk/date-picker.css\";\nimport \"element-ui/lib/theme-chalk/base.css\";\nimport _DatePicker from \"element-ui/lib/date-picker\";\nimport { Card, Checkbox, Button, InfoSection } from \"src/components/UIComponents\";\nimport axiosClient from \"../../../../axios\";\nimport Vue from \"vue\";\nVue.use(_DatePicker);\nexport default {\n  props: [\"promoData\"],\n  components: {\n    Card,\n    InfoSection,\n    [Checkbox.name]: Checkbox,\n    [Button.name]: Button,\n    [_Option.name]: _Option,\n    [_Select.name]: _Select\n  },\n  data() {\n    return {\n      form: {\n        company: \"\",\n        chainCode: \"\",\n        branchName: \"\",\n        position: \"\",\n        dateEnd: \"\"\n      },\n      companyList: \"\",\n      disableChainCode: true,\n      disableBranchName: true,\n      enableBtn: true,\n      chainCodeList: \"\",\n      branchNameList: \"\"\n    };\n  },\n  mounted() {\n    this.fetchCompany();\n  },\n  watch: {\n    form: {\n      handler(val, oldVal) {\n        this.formValidation();\n      },\n      deep: true\n    }\n  },\n  methods: {\n    fetchCompany() {\n      axiosClient.get(\"/fetchCompany\").then(response => {\n        console.log(\"Company Response:\", response.data);\n        this.companyList = response.data;\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n    fetchChainCode() {\n      this.disableChainCode = false;\n      axiosClient.get(\"/fetchChainCode\", {\n        params: {\n          company: this.form.company\n        }\n      }).then(response => {\n        console.log(\"Chain Code Response:\", response.data);\n        this.chainCodeList = response.data;\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n    fetchBranchName() {\n      this.disableBranchName = false;\n      axiosClient.get(\"/fetchChainName\", {\n        params: {\n          company: this.form.company,\n          chainCode: this.form.chainCode\n        }\n      }).then(response => {\n        console.log(\"Chain Code Response:\", response.data);\n        this.branchNameList = response.data;\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n    register() {\n      console.log(\"Promo Data: \", this.promoData);\n      console.log(\"Form Data:\", this.form);\n      axiosClient.post(\"/postUserBranch\", {\n        userID: this.promoData.id,\n        chainCode: this.form.chainCode,\n        branchName: this.form.branchName,\n        user: sessionStorage.getItem(\"UserID\"),\n        company: this.form.company,\n        dateEnd: this.form.dateEnd\n      }).then(response => {\n        console.log(\"Success Activate Account\", response.data);\n        this.$emit(\"fetchUsers\");\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n    formValidation() {\n      if (this.form.company) this.disableChainCode = false;else this.disableChainCode = true;\n      if (this.form.chainCode) this.disableBranchName = false;else this.disableBranchName;\n      if (this.promoData.email && this.promoData.name && this.form.company && this.form.chainCode && this.form.branchName) this.enableBtn = false;else {\n        this.enableBtn = true;\n      }\n    },\n    cancel() {\n      this.form.company = \"\", this.form.chainCode = \"\", this.form.branchName = \"\";\n    }\n  }\n};","map":{"version":3,"names":["Card","Checkbox","Button","InfoSection","axiosClient","Vue","use","_DatePicker","props","components","name","_Option","_Select","data","form","company","chainCode","branchName","position","dateEnd","companyList","disableChainCode","disableBranchName","enableBtn","chainCodeList","branchNameList","mounted","fetchCompany","watch","handler","val","oldVal","formValidation","deep","methods","get","then","response","console","log","catch","error","fetchChainCode","params","fetchBranchName","register","promoData","post","userID","id","user","sessionStorage","getItem","$emit","email","cancel"],"sources":["src/components/Dashboard/Views/PullOut/PromoActivation.vue"],"sourcesContent":["<template>\n  <div\n    class=\"modal fade\"\n    id=\"promoActivation\"\n    data-bs-backdrop=\"static\"\n    data-bs-keyboard=\"false\"\n    tabindex=\"-1\"\n    aria-labelledby=\"promoActivationLabel\"\n    aria-hidden=\"true\"\n  >\n    <div class=\"modal-dialog modal-dialog-centered\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h1 class=\"modal-title fs-5 text-weight-bold\" id=\"promoActivationLabel\">\n            Promodiser's Account\n          </h1>\n        </div>\n        <div class=\"text-center modal-body px-4\">\n          <fg-input\n            v-model=\"promoData.name\"\n            aria-readonly=\"true\"\n            addon-left-icon=\"nc-icon nc-single-02\"\n            placeholder=\"Full Name\"\n          ></fg-input>\n          <fg-input\n            v-model=\"promoData.email\"\n            disabled\n            addon-left-icon=\"nc-icon nc-email-85\"\n            placeholder=\"Email\"\n          ></fg-input>\n          <div class=\"input-group\">\n            <div class=\"input-group-prepend\">\n              <span class=\"input-group-text\">\n                <i class=\"nc-icon nc-bank\"></i>\n              </span>\n            </div>\n            <el-select\n              suffix-icon=\"nc-icon nc-key-25\"\n              class=\"select-default\"\n              size=\"large\"\n              placeholder=\"Select Company\"\n              v-model=\"form.company\"\n              @change=\"fetchChainCode\"\n            >\n              <el-option\n                v-for=\"option in companyList\"\n                class=\"select-default\"\n                :value=\"option.shortName\"\n                :label=\"option.name + ' (' + option.shortName + ') '\"\n                :key=\"option.id\"\n              >\n              </el-option>\n            </el-select>\n          </div>\n          <div class=\"input-group d-flex\">\n            <div class=\"input-group-prepend\">\n              <span class=\"input-group-text\">\n                <i class=\"nc-icon nc-basket\"></i>\n              </span>\n            </div>\n            <el-select\n              suffix-icon=\"nc-icon nc-key-25\"\n              class=\"select-default flex-grow-1 sign-select\"\n              size=\"large\"\n              placeholder=\"Select Chain Code\"\n              v-model=\"form.chainCode\"\n              :disabled=\"disableChainCode\"\n              @change=\"fetchBranchName\"\n            >\n              <el-option\n                v-for=\"option in chainCodeList\"\n                class=\"select-default\"\n                :value=\"option.chainCode\"\n                :label=\"option.chainCode\"\n                :key=\"option.chainCode\"\n              >\n              </el-option>\n            </el-select>\n          </div>\n          <div class=\"input-group d-flex\">\n            <div class=\"input-group-prepend\">\n              <span class=\"input-group-text\">\n                <i class=\"nc-icon nc-shop\"></i>\n              </span>\n            </div>\n            <el-select\n              suffix-icon=\"nc-icon nc-key-25\"\n              class=\"select-default flex-grow-1 sign-select\"\n              size=\"large\"\n              placeholder=\"Select Branch Name\"\n              v-model=\"form.branchName\"\n              :disabled=\"disableBranchName\"\n            >\n              <el-option\n                v-for=\"option in branchNameList\"\n                class=\"select-default\"\n                :value=\"option.branchName\"\n                :label=\"option.branchName\"\n                :key=\"option.branchName\"\n              >\n              </el-option>\n            </el-select>\n          </div>\n          <div class=\"row\">\n            <fg-input label=\"Date End Promo\">\n              <el-date-picker\n                v-model=\"form.dateEnd\"\n                type=\"date\"\n                placeholder=\"Select a Day\"\n              >\n              </el-date-picker>\n            </fg-input>\n          </div>\n\n          <!-- <div class=\"card-footer my-2\">\n                <p-button native-type=\"submit\" type=\"info\" round>Register </p-button>\n              </div> -->\n        </div>\n        <div class=\"modal-footer d-flex justify-content-center\">\n          <button class=\"btn btn-secondary\" data-bs-dismiss=\"modal\" @click=\"cancel\">\n            Cancel\n          </button>\n          <button\n            :disabled=\"enableBtn\"\n            type=\"button\"\n            class=\"btn btn-primary\"\n            data-bs-dismiss=\"modal\"\n            @click=\"register\"\n          >\n            Activate This Account\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { Card, Checkbox, Button, InfoSection } from \"src/components/UIComponents\";\nimport { DatePicker, Select, Option } from \"element-ui\";\nimport axiosClient from \"../../../../axios\";\nimport Vue from \"vue\";\n\nVue.use(DatePicker);\nexport default {\n  props: [\"promoData\"],\n  components: {\n    Card,\n    InfoSection,\n    [Checkbox.name]: Checkbox,\n    [Button.name]: Button,\n    [Option.name]: Option,\n    [Select.name]: Select,\n  },\n  data() {\n    return {\n      form: {\n        company: \"\",\n        chainCode: \"\",\n        branchName: \"\",\n        position: \"\",\n        dateEnd: \"\",\n      },\n      companyList: \"\",\n      disableChainCode: true,\n      disableBranchName: true,\n      enableBtn: true,\n      chainCodeList: \"\",\n      branchNameList: \"\",\n    };\n  },\n  mounted() {\n    this.fetchCompany();\n  },\n  watch: {\n    form: {\n      handler(val, oldVal) {\n        this.formValidation();\n      },\n      deep: true,\n    },\n  },\n  methods: {\n    fetchCompany() {\n      axiosClient\n        .get(\"/fetchCompany\")\n        .then((response) => {\n          console.log(\"Company Response:\", response.data);\n          this.companyList = response.data;\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    },\n    fetchChainCode() {\n      this.disableChainCode = false;\n      axiosClient\n        .get(\"/fetchChainCode\", {\n          params: {\n            company: this.form.company,\n          },\n        })\n        .then((response) => {\n          console.log(\"Chain Code Response:\", response.data);\n          this.chainCodeList = response.data;\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    },\n    fetchBranchName() {\n      this.disableBranchName = false;\n      axiosClient\n        .get(\"/fetchChainName\", {\n          params: {\n            company: this.form.company,\n            chainCode: this.form.chainCode,\n          },\n        })\n        .then((response) => {\n          console.log(\"Chain Code Response:\", response.data);\n          this.branchNameList = response.data;\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    },\n    register() {\n      // switch (this.form.company) {\n      //   case \"NBFI\":\n      //     this.form.company = 1;\n      //     break;\n      //   case \"ASC\":\n      //     this.form.company = 2;\n      //     break;\n      //   case \"CMC\":z\n      //     this.form.company = 3;\n      //     break;\n      //   case \"EPC\":\n      //     this.form.company = 4;\n      //     break;\n      //   case \"AHLC\":\n      //     this.form.company = 5;\n      //     break;\n\n      //   default:\n      //     break;\n      // }\n      console.log(\"Promo Data: \", this.promoData);\n      console.log(\"Form Data:\", this.form);\n\n      axiosClient\n        .post(\"/postUserBranch\", {\n          userID: this.promoData.id,\n          chainCode: this.form.chainCode,\n          branchName: this.form.branchName,\n          user: sessionStorage.getItem(\"UserID\"),\n          company: this.form.company,\n          dateEnd: this.form.dateEnd,\n        })\n        .then((response) => {\n          console.log(\"Success Activate Account\", response.data);\n          this.$emit(\"fetchUsers\");\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n      // axiosClient\n      //   .get(\"/sendVerificationCode\", {\n      //     params: {\n      //       email: this.form.email,\n      //     },\n      //   })\n      //   .then((response) => {\n      //     sessionStorage.setItem(\"Name\", this.form.fullName);\n      //     sessionStorage.setItem(\"Email\", this.form.email);\n      //     sessionStorage.setItem(\"Company\", this.form.company);\n      //     sessionStorage.setItem(\"Password\", this.form.password);\n      //     sessionStorage.setItem(\"Position\", this.form.position);\n      //     sessionStorage.setItem(\"HashCode\", response.data);\n      //     this.$router.push({ name: \"OTPForm\" });\n      //   })\n      //   .catch((error) => {\n      //     console.error(error);\n      //   });\n    },\n    formValidation() {\n      if (this.form.company) this.disableChainCode = false;\n      else this.disableChainCode = true;\n      if (this.form.chainCode) this.disableBranchName = false;\n      else this.disableBranchName;\n\n      if (\n        this.promoData.email &&\n        this.promoData.name &&\n        this.form.company &&\n        this.form.chainCode &&\n        this.form.branchName\n      )\n        this.enableBtn = false;\n      else {\n        this.enableBtn = true;\n      }\n    },\n    cancel() {\n      (this.form.company = \"\"), (this.form.chainCode = \"\"), (this.form.branchName = \"\");\n    },\n  },\n};\n</script>\n<style lang=\"scss\">\n// .linkLogin {\n//   text-decoration-line: underline !important;\n//   margin-right: 10px;\n//   color: gray !important;\n// }\n// .linkLogin:hover {\n//   color: black !important;\n//   cursor: pointer;\n// }\n.sign-select .el-input__inner {\n  border-left: none !important;\n  border-top-left-radius: 0px !important;\n  border-bottom-left-radius: 0px !important;\n}\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
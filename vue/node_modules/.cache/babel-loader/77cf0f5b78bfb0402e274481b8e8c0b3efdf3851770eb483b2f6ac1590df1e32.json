{"ast":null,"code":"import _Select2 from \"element-ui/lib/theme-chalk/select.css\";\nimport \"element-ui/lib/theme-chalk/base.css\";\nimport _Select from \"element-ui/lib/select\";\nimport _Option2 from \"element-ui/lib/theme-chalk/option.css\";\nimport \"element-ui/lib/theme-chalk/base.css\";\nimport _Option from \"element-ui/lib/option\";\nimport { Card, Checkbox, Button, InfoSection } from \"src/components/UIComponents\";\nimport axiosClient from \"../../../../axios\";\nexport default {\n  components: {\n    Card,\n    InfoSection,\n    [Checkbox.name]: Checkbox,\n    [Button.name]: Button,\n    [_Option.name]: _Option,\n    [_Select.name]: _Select\n  },\n  data() {\n    return {\n      form: {\n        fullName: \"\",\n        email: \"\",\n        chainCode: \"\",\n        branchName: \"\",\n        company: \"\",\n        password: \"\",\n        password_confirmation: \"\",\n        position: \"\"\n      },\n      companyList: \"\",\n      showDropdowns: false,\n      showCompanyOnly: false,\n      disableBranchName: true,\n      disableCompany: true,\n      chainCodeList: \"\",\n      branchNameList: \"\"\n    };\n  },\n  mounted() {\n    this.fetchCompany();\n  },\n  watch: {\n    disableBranchName: \"enableCompany\"\n  },\n  methods: {\n    fetchCompany() {\n      axiosClient.get(\"/fetchCompany\").then(response => {\n        console.log(\"Company Response:\", response.data);\n        this.companyList = response.data;\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n    fetchChainCode() {\n      axiosClient.get(\"/fetchChainCode\").then(response => {\n        console.log(\"Company Response:\", response.data);\n        this.companyList = response.data;\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n    directToLogin() {\n      this.$router.push({\n        name: \"Login\"\n      });\n    },\n    register() {\n      switch (this.form.company) {\n        case \"NBFI\":\n          this.form.company = 1;\n          break;\n        case \"ASC\":\n          this.form.company = 2;\n          break;\n        case \"CMC\":\n          this.form.company = 3;\n          break;\n        case \"EPC\":\n          this.form.company = 4;\n          break;\n        case \"AHLC\":\n          this.form.company = 5;\n          break;\n        default:\n          break;\n      }\n      axiosClient.get(\"/sendVerificationCode\", {\n        params: {\n          email: this.form.email\n        }\n      }).then(response => {\n        sessionStorage.setItem(\"Name\", this.form.fullName);\n        sessionStorage.setItem(\"Email\", this.form.email);\n        sessionStorage.setItem(\"Company\", this.form.company);\n        sessionStorage.setItem(\"Password\", this.form.password);\n        sessionStorage.setItem(\"Position\", this.form.position);\n        sessionStorage.setItem(\"HashCode\", response.data);\n        this.$router.push({\n          name: \"OTPForm\"\n        });\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n    validateEmail() {\n      this.showDropdowns = false;\n      this.showCompanyOnly = false;\n      this.form.company = \"\";\n      if (/^[\\w.-]+@[a-zA-Z_-]+?\\.[a-zA-Z]{2,3}$/.test(this.form.email)) {\n        var domain = this.form.email.split(\"@\")[1];\n        var companyDomains = [\"barbizonfashion.com\", \"everydayproductscorp.com\"];\n        if (companyDomains.includes(domain)) {\n          this.form.position = \"Agent\";\n          if (domain == \"barbizonfashion.com\") {\n            this.form.company = \"NBFI\";\n          } else {\n            this.form.company = \"EPC\";\n          }\n          this.showDropdowns = false;\n        } else {\n          this.showDropdowns = true;\n          this.form.position = \"User\";\n        }\n        this.showCompanyOnly = true;\n      }\n    },\n    enableCompany() {\n      if (this.form.branchName) this.disableCompany = false;else this.disableCompany = true;\n    }\n  }\n};","map":{"version":3,"names":["Card","Checkbox","Button","InfoSection","axiosClient","components","name","_Option","_Select","data","form","fullName","email","chainCode","branchName","company","password","password_confirmation","position","companyList","showDropdowns","showCompanyOnly","disableBranchName","disableCompany","chainCodeList","branchNameList","mounted","fetchCompany","watch","methods","get","then","response","console","log","catch","error","fetchChainCode","directToLogin","$router","push","register","params","sessionStorage","setItem","validateEmail","test","domain","split","companyDomains","includes","enableCompany"],"sources":["src/components/Dashboard/Views/Pages/Register.vue"],"sourcesContent":["<template>\n  <div class=\"register-page\">\n    <div class=\"wrapper wrapper-full-page\">\n      <div class=\"full-page register-page section-image\" filter-color=\"black\">\n        <div class=\"content\">\n          <div class=\"container\">\n            <div class=\"col-lg-4 col-md-6 ml-auto mr-auto\">\n              <form @submit.prevent=\"register\">\n                <card type=\"signup\" class=\"text-center\">\n                  <template slot=\"header\">\n                    <h4 class=\"card-title\">Register</h4>\n                  </template>\n\n                  <fg-input\n                    v-model=\"form.fullName\"\n                    addon-left-icon=\"nc-icon nc-single-02\"\n                    placeholder=\"Full Name...\"\n                  ></fg-input>\n                  <fg-input\n                    v-model=\"form.email\"\n                    @input=\"validateEmail\"\n                    addon-left-icon=\"nc-icon nc-email-85\"\n                    placeholder=\"Email...\"\n                  ></fg-input>\n                  <div class=\"input-group d-flex\" v-if=\"showDropdowns\">\n                    <div class=\"input-group-prepend\">\n                      <span class=\"input-group-text\">\n                        <i class=\"nc-icon nc-bank\"></i>\n                      </span>\n                    </div>\n                    <el-select\n                      suffix-icon=\"nc-icon nc-key-25\"\n                      class=\"select-default flex-grow-1 sign-select\"\n                      size=\"large\"\n                      placeholder=\"Select Chain Code\"\n                      v-model=\"form.chainCode\"\n                    >\n                      <!-- <el-option\n                        v-for=\"option in companyList\"\n                        class=\"select-default\"\n                        :value=\"option.shortName\"\n                        :label=\"option.name + ' (' + option.shortName + ') '\"\n                        :key=\"option.id\"\n                      >\n                      </el-option> -->\n                    </el-select>\n                  </div>\n                  <div class=\"input-group d-flex\" v-if=\"showDropdowns\">\n                    <div class=\"input-group-prepend\">\n                      <span class=\"input-group-text\">\n                        <i class=\"nc-icon nc-bank\"></i>\n                      </span>\n                    </div>\n                    <el-select\n                      suffix-icon=\"nc-icon nc-key-25\"\n                      class=\"select-default flex-grow-1 sign-select\"\n                      size=\"large\"\n                      placeholder=\"Select Branch Name\"\n                      v-model=\"form.branchName\"\n                      :disabled=\"disableBranchName\"\n                    >\n                      <!-- <el-option\n                        v-for=\"option in companyList\"\n                        class=\"select-default\"\n                        :value=\"option.shortName\"\n                        :label=\"option.name + ' (' + option.shortName + ') '\"\n                        :key=\"option.id\"\n                      >\n                      </el-option> -->\n                    </el-select>\n                  </div>\n                  <div class=\"input-group d-flex\" v-if=\"showCompanyOnly\">\n                    <div class=\"input-group-prepend\">\n                      <span class=\"input-group-text\">\n                        <i class=\"nc-icon nc-bank\"></i>\n                      </span>\n                    </div>\n                    <el-select\n                      suffix-icon=\"nc-icon nc-key-25\"\n                      class=\"select-default flex-grow-1 sign-select\"\n                      size=\"large\"\n                      placeholder=\"Select Company\"\n                      v-model=\"form.company\"\n                      :disabled=\"disableCompany\"\n                    >\n                      <el-option\n                        v-for=\"option in companyList\"\n                        class=\"select-default\"\n                        :value=\"option.shortName\"\n                        :label=\"option.name + ' (' + option.shortName + ') '\"\n                        :key=\"option.id\"\n                      >\n                      </el-option>\n                    </el-select>\n                  </div>\n                  <fg-input\n                    v-model=\"form.password\"\n                    addon-left-icon=\"nc-icon nc-key-25\"\n                    placeholder=\"Password\"\n                    type=\"password\"\n                  ></fg-input>\n                  <fg-input\n                    v-model=\"form.password_confirmation\"\n                    addon-left-icon=\"nc-icon nc-key-25\"\n                    placeholder=\"Confirm Password\"\n                    type=\"password\"\n                  ></fg-input>\n\n                  <div class=\"card-footer my-2\">\n                    <a class=\"linkLogin\" @click=\"directToLogin\">Already Registered? </a>\n                    <p-button native-type=\"submit\" type=\"info\" round>Register </p-button>\n                  </div>\n                </card>\n              </form>\n            </div>\n          </div>\n        </div>\n        <!-- <app-footer></app-footer> -->\n        <div\n          class=\"full-page-background\"\n          style=\"background-image: url(static/img/background/jan-sendereks.jpg)\"\n        ></div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { Card, Checkbox, Button, InfoSection } from \"src/components/UIComponents\";\nimport { Select, Option } from \"element-ui\";\nimport axiosClient from \"../../../../axios\";\n\nexport default {\n  components: {\n    Card,\n    InfoSection,\n    [Checkbox.name]: Checkbox,\n    [Button.name]: Button,\n    [Option.name]: Option,\n    [Select.name]: Select,\n  },\n  data() {\n    return {\n      form: {\n        fullName: \"\",\n        email: \"\",\n        chainCode: \"\",\n        branchName: \"\",\n        company: \"\",\n        password: \"\",\n        password_confirmation: \"\",\n        position: \"\",\n      },\n      companyList: \"\",\n      showDropdowns: false,\n      showCompanyOnly: false,\n      disableBranchName: true,\n      disableCompany: true,\n      chainCodeList: \"\",\n      branchNameList: \"\",\n    };\n  },\n  mounted() {\n    this.fetchCompany();\n  },\n  watch: {\n    disableBranchName: \"enableCompany\",\n  },\n  methods: {\n    fetchCompany() {\n      axiosClient\n        .get(\"/fetchCompany\")\n        .then((response) => {\n          console.log(\"Company Response:\", response.data);\n          this.companyList = response.data;\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    },\n    fetchChainCode() {\n      axiosClient\n        .get(\"/fetchChainCode\")\n        .then((response) => {\n          console.log(\"Company Response:\", response.data);\n          this.companyList = response.data;\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    },\n    directToLogin() {\n      this.$router.push({ name: \"Login\" });\n    },\n    register() {\n      switch (this.form.company) {\n        case \"NBFI\":\n          this.form.company = 1;\n          break;\n        case \"ASC\":\n          this.form.company = 2;\n          break;\n        case \"CMC\":\n          this.form.company = 3;\n          break;\n        case \"EPC\":\n          this.form.company = 4;\n          break;\n        case \"AHLC\":\n          this.form.company = 5;\n          break;\n\n        default:\n          break;\n      }\n      axiosClient\n        .get(\"/sendVerificationCode\", {\n          params: {\n            email: this.form.email,\n          },\n        })\n        .then((response) => {\n          sessionStorage.setItem(\"Name\", this.form.fullName);\n          sessionStorage.setItem(\"Email\", this.form.email);\n          sessionStorage.setItem(\"Company\", this.form.company);\n          sessionStorage.setItem(\"Password\", this.form.password);\n          sessionStorage.setItem(\"Position\", this.form.position);\n          sessionStorage.setItem(\"HashCode\", response.data);\n          this.$router.push({ name: \"OTPForm\" });\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    },\n    validateEmail() {\n      this.showDropdowns = false;\n      this.showCompanyOnly = false;\n      this.form.company = \"\";\n\n      if (/^[\\w.-]+@[a-zA-Z_-]+?\\.[a-zA-Z]{2,3}$/.test(this.form.email)) {\n        var domain = this.form.email.split(\"@\")[1];\n        var companyDomains = [\"barbizonfashion.com\", \"everydayproductscorp.com\"];\n\n        if (companyDomains.includes(domain)) {\n          this.form.position = \"Agent\";\n          if (domain == \"barbizonfashion.com\") {\n            this.form.company = \"NBFI\";\n          } else {\n            this.form.company = \"EPC\";\n          }\n          this.showDropdowns = false;\n        } else {\n          this.showDropdowns = true;\n          this.form.position = \"User\";\n        }\n        this.showCompanyOnly = true;\n      }\n    },\n    enableCompany() {\n      if (this.form.branchName) this.disableCompany = false;\n      else this.disableCompany = true;\n    },\n  },\n};\n</script>\n<style lang=\"scss\">\n.linkLogin {\n  text-decoration-line: underline !important;\n  margin-right: 10px;\n  color: gray !important;\n}\n.linkLogin:hover {\n  color: black !important;\n  cursor: pointer;\n}\n.sign-select .el-input__inner {\n  border-left: none !important;\n  border-top-left-radius: 0px !important;\n  border-bottom-left-radius: 0px !important;\n}\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
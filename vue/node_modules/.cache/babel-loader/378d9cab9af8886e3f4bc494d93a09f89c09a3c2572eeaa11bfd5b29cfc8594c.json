{"ast":null,"code":"import _regeneratorRuntime from \"/var/www/html/PRESTOv1/vue/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/var/www/html/PRESTOv1/vue/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.string.starts-with.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"perfect-scrollbar/css/perfect-scrollbar.css\";\nexport default {\n  data: function data() {\n    return {\n      positionEmployee: \"\"\n    };\n  },\n  props: {\n    title: {\n      type: String,\n      default: \"Vue PDP Pro\",\n      description: \"Sidebar title\"\n    },\n    backgroundColor: {\n      type: String,\n      default: \"black\",\n      validator: function validator(value) {\n        var acceptedValues = [\"white\", \"brown\", \"black\"];\n        return acceptedValues.indexOf(value) !== -1;\n      },\n      description: \"Sidebar background color (white|brown|black)\"\n    },\n    activeColor: {\n      type: String,\n      default: \"success\",\n      validator: function validator(value) {\n        var acceptedValues = [\"primary\", \"info\", \"success\", \"warning\", \"danger\"];\n        return acceptedValues.indexOf(value) !== -1;\n      },\n      description: \"Sidebar active text color (primary|info|success|warning|danger)\"\n    },\n    logo: {\n      type: String,\n      default: \"static/img/vue-logo.png\",\n      description: \"Sidebar Logo\"\n    },\n    sidebarLinks: {\n      type: Array,\n      default: function _default() {\n        return [];\n      },\n      description: \"Sidebar links. Can be also provided as children components (sidebar-item)\"\n    },\n    autoClose: {\n      type: Boolean,\n      default: true\n    }\n  },\n  provide: function provide() {\n    return {\n      autoClose: this.autoClose\n    };\n  },\n  methods: {\n    initScrollBarAsync: function initScrollBarAsync() {\n      var _this = this;\n      return _asyncToGenerator(_regeneratorRuntime().mark(function _callee() {\n        var isWindows;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _this.positionEmployee = sessionStorage.getItem(\"Position\");\n              console.log(\"SideBar: \", _this.sidebarLinks);\n              isWindows = navigator.platform.startsWith(\"Win\");\n              if (isWindows) {\n                _context.next = 5;\n                break;\n              }\n              return _context.abrupt(\"return\");\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }))();\n    }\n  },\n  mounted: function mounted() {\n    this.initScrollBarAsync();\n  },\n  beforeDestroy: function beforeDestroy() {\n    if (this.$sidebar.showSidebar) {\n      this.$sidebar.showSidebar = false;\n    }\n  },\n  computed: {\n    filteredSidebarLinks: function filteredSidebarLinks() {\n      var userPosition = this.positionEmployee;\n      if (userPosition === \"User\") {\n        return this.sidebarLinks.filter(function (link) {\n          return link.access === \"User\";\n        });\n      } else if (userPosition === \"Agent\") {\n        return this.sidebarLinks.filter(function (link) {\n          return link.access === \"Agent\";\n        });\n      } else {\n        return this.sidebarLinks;\n      }\n    },\n    filteredChildrenSidebarLinks: function filteredChildrenSidebarLinks() {\n      var userPosition = this.positionEmployee;\n      for (var x = 0; x < this.sidebarLinks.length; x++) {\n        console.log(\"Children\", this.sidebarLinks[x].children);\n        for (var y = 0; y < this.sidebarLinks[x].children.length; y++) {\n          console.log(\"Children\", this.sidebarLinks[1].children);\n          if (userPosition === \"User\") {\n            return this.sidebarLinks[x].children[y].filter(function (link) {\n              return link.access === \"User\";\n            });\n          } else if (userPosition === \"Agent\") {\n            return this.sidebarLinks[x].children[y].filter(function (link) {\n              return link.access === \"Agent\";\n            });\n          } else {\n            return this.sidebarLinks[x].children[y];\n          }\n        }\n      }\n    }\n  }\n};","map":{"version":3,"names":["data","positionEmployee","props","title","type","String","default","description","backgroundColor","validator","value","acceptedValues","indexOf","activeColor","logo","sidebarLinks","Array","_default","autoClose","Boolean","provide","methods","initScrollBarAsync","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","isWindows","wrap","_callee$","_context","prev","next","sessionStorage","getItem","console","log","navigator","platform","startsWith","abrupt","stop","mounted","beforeDestroy","$sidebar","showSidebar","computed","filteredSidebarLinks","userPosition","filter","link","access","filteredChildrenSidebarLinks","x","length","children","y"],"sources":["src/components/UIComponents/SidebarPlugin/SideBar.vue"],"sourcesContent":["<template>\n  <div class=\"sidebar\" :data-color=\"backgroundColor\" :data-active-color=\"activeColor\">\n    <div class=\"logo\">\n      <a\n        class=\"simple-text logo-mini\"\n        aria-label=\"sidebar mini logo\"\n        href=\"https://www.creative-tim.com/product/vue-paper-dashboard-2-pro\"\n      >\n        <div class=\"logo-img\">\n          <img :src=\"logo\" alt=\"\" />\n        </div>\n      </a>\n      <a\n        class=\"simple-text logo-normal\"\n        href=\"https://www.creative-tim.com/vue-paper-dashboard-2-pro\"\n      >\n        {{ title }}\n      </a>\n    </div>\n    <div class=\"sidebar-wrapper\" ref=\"sidebarScrollArea\">\n      <slot> </slot>\n      <ul class=\"nav\">\n        <slot name=\"links\">\n          <sidebar-item\n            v-for=\"(link, index) in filteredSidebarLinks\"\n            :key=\"link.name + index\"\n            :link=\"link\"\n          >\n            <sidebar-item\n              v-for=\"(subLink, index) in filteredChildrenSidebarLinks\"\n              :key=\"subLink.name + index\"\n              :link=\"subLink\"\n            >\n            </sidebar-item>\n          </sidebar-item>\n        </slot>\n      </ul>\n    </div>\n  </div>\n</template>\n<script>\nimport \"perfect-scrollbar/css/perfect-scrollbar.css\";\nexport default {\n  data() {\n    return {\n      positionEmployee: \"\",\n    };\n  },\n  props: {\n    title: {\n      type: String,\n      default: \"Vue PDP Pro\",\n      description: \"Sidebar title\",\n    },\n    backgroundColor: {\n      type: String,\n      default: \"black\",\n      validator: (value) => {\n        let acceptedValues = [\"white\", \"brown\", \"black\"];\n        return acceptedValues.indexOf(value) !== -1;\n      },\n      description: \"Sidebar background color (white|brown|black)\",\n    },\n    activeColor: {\n      type: String,\n      default: \"success\",\n      validator: (value) => {\n        let acceptedValues = [\"primary\", \"info\", \"success\", \"warning\", \"danger\"];\n        return acceptedValues.indexOf(value) !== -1;\n      },\n      description: \"Sidebar active text color (primary|info|success|warning|danger)\",\n    },\n    logo: {\n      type: String,\n      default: \"static/img/vue-logo.png\",\n      description: \"Sidebar Logo\",\n    },\n    sidebarLinks: {\n      type: Array,\n      default: () => [],\n      description:\n        \"Sidebar links. Can be also provided as children components (sidebar-item)\",\n    },\n    autoClose: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  provide() {\n    return {\n      autoClose: this.autoClose,\n    };\n  },\n  methods: {\n    async initScrollBarAsync() {\n      this.positionEmployee = sessionStorage.getItem(\"Position\");\n      console.log(\"SideBar: \", this.sidebarLinks);\n      let isWindows = navigator.platform.startsWith(\"Win\");\n      if (!isWindows) {\n        return;\n      }\n      // const PerfectScroll = await import('perfect-scrollbar')\n      // PerfectScroll.initialize(this.$refs.sidebarScrollArea)\n    },\n  },\n  mounted() {\n    this.initScrollBarAsync();\n  },\n  beforeDestroy() {\n    if (this.$sidebar.showSidebar) {\n      this.$sidebar.showSidebar = false;\n    }\n  },\n  computed: {\n    filteredSidebarLinks() {\n      // Get the user's position from a variable or Vuex state, replace 'userPosition' with the actual variable or state\n      const userPosition = this.positionEmployee;\n\n      // Filter the sidebar links based on the user's position\n      if (userPosition === \"User\") {\n        return this.sidebarLinks.filter((link) => link.access === \"User\");\n      } else if (userPosition === \"Agent\") {\n        return this.sidebarLinks.filter((link) => link.access === \"Agent\");\n      } else {\n        return this.sidebarLinks;\n      }\n    },\n    filteredChildrenSidebarLinks() {\n      // Get the user's position from a variable or Vuex state, replace 'userPosition' with the actual variable or state\n      const userPosition = this.positionEmployee;\n\n      for (var x = 0; x < this.sidebarLinks.length; x++) {\n        console.log(\"Children\", this.sidebarLinks[x].children);\n        for (var y = 0; y < this.sidebarLinks[x].children.length; y++) {\n          console.log(\"Children\", this.sidebarLinks[1].children);\n          // Filter the sidebar links based on the user's position\n          if (userPosition === \"User\") {\n            return this.sidebarLinks[x].children[y].filter(\n              (link) => link.access === \"User\"\n            );\n          } else if (userPosition === \"Agent\") {\n            return this.sidebarLinks[x].children[y].filter(\n              (link) => link.access === \"Agent\"\n            );\n          } else {\n            return this.sidebarLinks[x].children[y];\n          }\n        }\n      }\n    },\n  },\n};\n</script>\n<style>\n@media (min-width: 992px) {\n  .navbar-search-form-mobile,\n  .nav-mobile-menu {\n    display: none;\n  }\n}\n</style>\n"],"mappings":";;;;;AAyCA;AACA;EACAA,IAAA,WAAAA,KAAA;IACA;MACAC,gBAAA;IACA;EACA;EACAC,KAAA;IACAC,KAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA;MACAC,WAAA;IACA;IACAC,eAAA;MACAJ,IAAA,EAAAC,MAAA;MACAC,OAAA;MACAG,SAAA,WAAAA,UAAAC,KAAA;QACA,IAAAC,cAAA;QACA,OAAAA,cAAA,CAAAC,OAAA,CAAAF,KAAA;MACA;MACAH,WAAA;IACA;IACAM,WAAA;MACAT,IAAA,EAAAC,MAAA;MACAC,OAAA;MACAG,SAAA,WAAAA,UAAAC,KAAA;QACA,IAAAC,cAAA;QACA,OAAAA,cAAA,CAAAC,OAAA,CAAAF,KAAA;MACA;MACAH,WAAA;IACA;IACAO,IAAA;MACAV,IAAA,EAAAC,MAAA;MACAC,OAAA;MACAC,WAAA;IACA;IACAQ,YAAA;MACAX,IAAA,EAAAY,KAAA;MACAV,OAAA,WAAAW,SAAA;QAAA;MAAA;MACAV,WAAA,EACA;IACA;IACAW,SAAA;MACAd,IAAA,EAAAe,OAAA;MACAb,OAAA;IACA;EACA;EACAc,OAAA,WAAAA,QAAA;IACA;MACAF,SAAA,OAAAA;IACA;EACA;EACAG,OAAA;IACAC,kBAAA,WAAAA,mBAAA;MAAA,IAAAC,KAAA;MAAA,OAAAC,iBAAA,CAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,SAAA;QAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cACAV,KAAA,CAAAtB,gBAAA,GAAAiC,cAAA,CAAAC,OAAA;cACAC,OAAA,CAAAC,GAAA,cAAAd,KAAA,CAAAR,YAAA;cACAa,SAAA,GAAAU,SAAA,CAAAC,QAAA,CAAAC,UAAA;cAAA,IACAZ,SAAA;gBAAAG,QAAA,CAAAE,IAAA;gBAAA;cAAA;cAAA,OAAAF,QAAA,CAAAU,MAAA;YAAA;YAAA;cAAA,OAAAV,QAAA,CAAAW,IAAA;UAAA;QAAA,GAAAf,OAAA;MAAA;IAKA;EACA;EACAgB,OAAA,WAAAA,QAAA;IACA,KAAArB,kBAAA;EACA;EACAsB,aAAA,WAAAA,cAAA;IACA,SAAAC,QAAA,CAAAC,WAAA;MACA,KAAAD,QAAA,CAAAC,WAAA;IACA;EACA;EACAC,QAAA;IACAC,oBAAA,WAAAA,qBAAA;MAEA,IAAAC,YAAA,QAAAhD,gBAAA;MAGA,IAAAgD,YAAA;QACA,YAAAlC,YAAA,CAAAmC,MAAA,WAAAC,IAAA;UAAA,OAAAA,IAAA,CAAAC,MAAA;QAAA;MACA,WAAAH,YAAA;QACA,YAAAlC,YAAA,CAAAmC,MAAA,WAAAC,IAAA;UAAA,OAAAA,IAAA,CAAAC,MAAA;QAAA;MACA;QACA,YAAArC,YAAA;MACA;IACA;IACAsC,4BAAA,WAAAA,6BAAA;MAEA,IAAAJ,YAAA,QAAAhD,gBAAA;MAEA,SAAAqD,CAAA,MAAAA,CAAA,QAAAvC,YAAA,CAAAwC,MAAA,EAAAD,CAAA;QACAlB,OAAA,CAAAC,GAAA,kBAAAtB,YAAA,CAAAuC,CAAA,EAAAE,QAAA;QACA,SAAAC,CAAA,MAAAA,CAAA,QAAA1C,YAAA,CAAAuC,CAAA,EAAAE,QAAA,CAAAD,MAAA,EAAAE,CAAA;UACArB,OAAA,CAAAC,GAAA,kBAAAtB,YAAA,IAAAyC,QAAA;UAEA,IAAAP,YAAA;YACA,YAAAlC,YAAA,CAAAuC,CAAA,EAAAE,QAAA,CAAAC,CAAA,EAAAP,MAAA,CACA,UAAAC,IAAA;cAAA,OAAAA,IAAA,CAAAC,MAAA;YAAA,CACA;UACA,WAAAH,YAAA;YACA,YAAAlC,YAAA,CAAAuC,CAAA,EAAAE,QAAA,CAAAC,CAAA,EAAAP,MAAA,CACA,UAAAC,IAAA;cAAA,OAAAA,IAAA,CAAAC,MAAA;YAAA,CACA;UACA;YACA,YAAArC,YAAA,CAAAuC,CAAA,EAAAE,QAAA,CAAAC,CAAA;UACA;QACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { Card, Checkbox, Button } from \"src/components/UIComponents\";\nimport axiosClient from \"../../../../../axios\";\nexport default {\n  components: {\n    Card,\n    [Checkbox.name]: Checkbox,\n    [Button.name]: Button\n  },\n  watch: {\n    OTP: \"validateOTP\"\n  },\n  methods: {\n    toggleNavbar() {\n      document.body.classList.toggle(\"nav-open\");\n    },\n    closeMenu() {\n      document.body.classList.remove(\"nav-open\");\n      document.body.classList.remove(\"off-canvas-sidebar\");\n    },\n    verify() {\n      console.log(\"HashCode:\", sessionStorage.getItem(\"HashCode\"));\n      console.log(\"OTP:\", this.OTP);\n      axiosClient.get(\"/confirmCode\", {\n        params: {\n          verCode: this.OTP,\n          hashCode: sessionStorage.getItem(\"HashCode\")\n        }\n      }).then(response => {\n        console.log(\"Success Equal Response:\", response.data);\n        axiosClient.post(\"/register\", {\n          name: sessionStorage.getItem(\"Name\"),\n          email: sessionStorage.getItem(\"Email\"),\n          password: sessionStorage.getItem(\"Password\"),\n          position: sessionStorage.getItem(\"Position\"),\n          company: sessionStorage.getItem(\"Company\")\n        }).then(response => {\n          console.log(response.data);\n          sessionStorage.clear();\n          this.$router.push({\n            name: \"Login\"\n          });\n        }).catch(error => {\n          console.error(error);\n        });\n      }).catch(err => {\n        console.error(err);\n      });\n    },\n    onlyNumber($event) {\n      let keyCode = $event.keyCode ? $event.keyCode : $event.which;\n      if (keyCode < 48 || keyCode > 57) {\n        $event.preventDefault();\n      }\n    },\n    validateOTP() {\n      if (this.OTP.length == 6) this.isOTP = false;else this.isOTP = true;\n    }\n  },\n  data() {\n    return {\n      OTP: \"\",\n      isOTP: true\n    };\n  },\n  beforeDestroy() {\n    this.closeMenu();\n  }\n};","map":{"version":3,"names":["Card","Checkbox","Button","axiosClient","components","name","watch","OTP","methods","toggleNavbar","document","body","classList","toggle","closeMenu","remove","verify","console","log","sessionStorage","getItem","get","params","verCode","hashCode","then","response","data","post","email","password","position","company","clear","$router","push","catch","error","err","onlyNumber","$event","keyCode","which","preventDefault","validateOTP","length","isOTP","beforeDestroy"],"sources":["src/components/Dashboard/Views/Pages/ForgotPassword/OTPLogin.vue"],"sourcesContent":["<template>\n  <div class=\"login-page\">\n    <div class=\"wrapper wrapper-full-page\">\n      <div class=\"full-page login-page section-image\">\n        <!--   you can change the color of the filter page using: data-color=\"blue | azure | green | orange | red | purple\" -->\n        <div class=\"content\">\n          <div class=\"container\">\n            <div class=\"col-lg-4 col-md-6 ml-auto mr-auto\">\n              <form @submit.prevent=\"verify\">\n                <card type=\"login\" class=\"m-0 p-0\">\n                  <p class=\"text-center font-size\">\n                    Kindly check your email for the sent OTP Verification Code.\n                  </p>\n\n                  <fg-input\n                    label=\"OTP Verification\"\n                    class=\"mb-0\"\n                    v-model=\"OTP\"\n                    placeholder=\"Enter 6-Digit Code\"\n                    @keypress=\"onlyNumber\"\n                  ></fg-input>\n                  <div class=\"card-footer pt-10px p-0 d-flex flex-row-reverse\">\n                    <p-button native-type=\"submit\" :disabled=\"isOTP\" type=\"warning\" round\n                      >Verify\n                    </p-button>\n                  </div>\n                </card>\n              </form>\n            </div>\n          </div>\n        </div>\n        <!-- <app-footer></app-footer> -->\n        <div\n          class=\"full-page-background\"\n          style=\"background-image: url(static/img/background/background-2.jpg)\"\n        ></div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { Card, Checkbox, Button } from \"src/components/UIComponents\";\n// import AppFooter from './Layout/AppFooter'\n\nimport axiosClient from \"../../../../../axios\";\n\nexport default {\n  components: {\n    Card,\n    // AppFooter,\n    [Checkbox.name]: Checkbox,\n    [Button.name]: Button,\n  },\n  watch: {\n    OTP: \"validateOTP\",\n  },\n  methods: {\n    toggleNavbar() {\n      document.body.classList.toggle(\"nav-open\");\n    },\n    closeMenu() {\n      document.body.classList.remove(\"nav-open\");\n      document.body.classList.remove(\"off-canvas-sidebar\");\n    },\n    verify() {\n      console.log(\"HashCode:\", sessionStorage.getItem(\"HashCode\"));\n      console.log(\"OTP:\", this.OTP);\n\n      axiosClient\n        .get(\"/confirmCode\", {\n          params: {\n            verCode: this.OTP,\n            hashCode: sessionStorage.getItem(\"HashCode\"),\n          },\n        })\n        .then((response) => {\n          console.log(\"Success Equal Response:\", response.data);\n          axiosClient\n            .post(\"/register\", {\n              name: sessionStorage.getItem(\"Name\"),\n              email: sessionStorage.getItem(\"Email\"),\n              password: sessionStorage.getItem(\"Password\"),\n              position: sessionStorage.getItem(\"Position\"),\n              company: sessionStorage.getItem(\"Company\"),\n            })\n            .then((response) => {\n              console.log(response.data);\n              sessionStorage.clear();\n              this.$router.push({ name: \"Login\" });\n            })\n            .catch((error) => {\n              console.error(error);\n            });\n        })\n        .catch((err) => {\n          console.error(err);\n        });\n    },\n    onlyNumber($event) {\n      let keyCode = $event.keyCode ? $event.keyCode : $event.which;\n      if (keyCode < 48 || keyCode > 57) {\n        // 46 is dot\n        $event.preventDefault();\n      }\n    },\n    validateOTP() {\n      if (this.OTP.length == 6) this.isOTP = false;\n      else this.isOTP = true;\n    },\n  },\n  data() {\n    return {\n      OTP: \"\",\n      isOTP: true,\n    };\n  },\n  beforeDestroy() {\n    this.closeMenu();\n  },\n};\n</script>\n<style lang=\"scss\">\n.font-size {\n  font-size: 12px;\n}\n</style>\n"],"mappings":"AAyCA,SAAAA,IAAA,EAAAC,QAAA,EAAAC,MAAA;AAGA,OAAAC,WAAA;AAEA;EACAC,UAAA;IACAJ,IAAA;IAEA,CAAAC,QAAA,CAAAI,IAAA,GAAAJ,QAAA;IACA,CAAAC,MAAA,CAAAG,IAAA,GAAAH;EACA;EACAI,KAAA;IACAC,GAAA;EACA;EACAC,OAAA;IACAC,aAAA;MACAC,QAAA,CAAAC,IAAA,CAAAC,SAAA,CAAAC,MAAA;IACA;IACAC,UAAA;MACAJ,QAAA,CAAAC,IAAA,CAAAC,SAAA,CAAAG,MAAA;MACAL,QAAA,CAAAC,IAAA,CAAAC,SAAA,CAAAG,MAAA;IACA;IACAC,OAAA;MACAC,OAAA,CAAAC,GAAA,cAAAC,cAAA,CAAAC,OAAA;MACAH,OAAA,CAAAC,GAAA,cAAAX,GAAA;MAEAJ,WAAA,CACAkB,GAAA;QACAC,MAAA;UACAC,OAAA,OAAAhB,GAAA;UACAiB,QAAA,EAAAL,cAAA,CAAAC,OAAA;QACA;MACA,GACAK,IAAA,CAAAC,QAAA;QACAT,OAAA,CAAAC,GAAA,4BAAAQ,QAAA,CAAAC,IAAA;QACAxB,WAAA,CACAyB,IAAA;UACAvB,IAAA,EAAAc,cAAA,CAAAC,OAAA;UACAS,KAAA,EAAAV,cAAA,CAAAC,OAAA;UACAU,QAAA,EAAAX,cAAA,CAAAC,OAAA;UACAW,QAAA,EAAAZ,cAAA,CAAAC,OAAA;UACAY,OAAA,EAAAb,cAAA,CAAAC,OAAA;QACA,GACAK,IAAA,CAAAC,QAAA;UACAT,OAAA,CAAAC,GAAA,CAAAQ,QAAA,CAAAC,IAAA;UACAR,cAAA,CAAAc,KAAA;UACA,KAAAC,OAAA,CAAAC,IAAA;YAAA9B,IAAA;UAAA;QACA,GACA+B,KAAA,CAAAC,KAAA;UACApB,OAAA,CAAAoB,KAAA,CAAAA,KAAA;QACA;MACA,GACAD,KAAA,CAAAE,GAAA;QACArB,OAAA,CAAAoB,KAAA,CAAAC,GAAA;MACA;IACA;IACAC,WAAAC,MAAA;MACA,IAAAC,OAAA,GAAAD,MAAA,CAAAC,OAAA,GAAAD,MAAA,CAAAC,OAAA,GAAAD,MAAA,CAAAE,KAAA;MACA,IAAAD,OAAA,SAAAA,OAAA;QAEAD,MAAA,CAAAG,cAAA;MACA;IACA;IACAC,YAAA;MACA,SAAArC,GAAA,CAAAsC,MAAA,YAAAC,KAAA,cACA,KAAAA,KAAA;IACA;EACA;EACAnB,KAAA;IACA;MACApB,GAAA;MACAuC,KAAA;IACA;EACA;EACAC,cAAA;IACA,KAAAjC,SAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
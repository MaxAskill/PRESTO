{"ast":null,"code":"import _defineProperty from \"/var/www/html/PRESTOv1/vue/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _Select2 from \"element-ui/lib/theme-chalk/select.css\";\nimport \"element-ui/lib/theme-chalk/base.css\";\nimport _Select from \"element-ui/lib/select\";\nimport _Option2 from \"element-ui/lib/theme-chalk/option.css\";\nimport \"element-ui/lib/theme-chalk/base.css\";\nimport _Option from \"element-ui/lib/option\";\nvar _components;\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport AppNavbar from \"./Layout/AppNavbar\";\nimport { Card, Checkbox, Button, InfoSection } from \"src/components/UIComponents\";\nimport axiosClient from \"../../../../axios\";\nexport default {\n  components: (_components = {\n    Card: Card,\n    AppNavbar: AppNavbar,\n    InfoSection: InfoSection\n  }, _defineProperty(_components, Checkbox.name, Checkbox), _defineProperty(_components, Button.name, Button), _defineProperty(_components, _Option.name, _Option), _defineProperty(_components, _Select.name, _Select), _components),\n  data: function data() {\n    return {\n      form: {\n        fullName: \"\",\n        email: \"\",\n        company: \"\",\n        password: \"\",\n        password_confirmation: \"\"\n      },\n      isUser: true\n    };\n  },\n  methods: {\n    directToLogin: function directToLogin() {\n      this.$router.push({\n        name: \"Login\"\n      });\n    },\n    toggleNavbar: function toggleNavbar() {\n      document.body.classList.toggle(\"nav-open\");\n    },\n    closeMenu: function closeMenu() {\n      document.body.classList.remove(\"nav-open\");\n      document.body.classList.remove(\"off-canvas-sidebar\");\n    },\n    register: function register() {\n      var _this = this;\n      switch (this.form.company) {\n        case \"NBFI\":\n          this.form.company = 1;\n          break;\n        case \"ASC\":\n          this.form.company = 2;\n          break;\n        case \"CMC\":\n          this.form.company = 3;\n          break;\n        case \"EPC\":\n          this.form.company = 4;\n          break;\n        case \"AHLC\":\n          this.form.company = 5;\n          break;\n        default:\n          break;\n      }\n      axiosClient.post(\"/register\", {\n        firstName: this.form.fullName,\n        email: this.form.email,\n        company: this.form.company,\n        password: this.form.password,\n        password_confirmation: this.password_confirmation\n      }).then(function (response) {\n        sessionStorage.setItem(\"UserID\", response.data.user.id);\n        sessionStorage.setItem(\"Token\", response.data.token);\n        sessionStorage.setItem(\"Position\", response.data.user.position);\n        _this.$router.push({\n          name: \"Overview\"\n        });\n      }).catch(function (error) {\n        console.error(error);\n      });\n    },\n    validateEmail: function validateEmail() {\n      this.isUser = true;\n      this.form.company = \"\";\n      if (/^[\\w.-]+@[a-zA-Z_-]+?\\.[a-zA-Z]{2,3}$/.test(this.form.email)) {\n        var domain = this.form.email.split(\"@\")[1];\n        var companyDomains = [\"barbizonfashion.com\", \"everydayproductscorp.com\"];\n        if (companyDomains.includes(domain)) {\n          if (domain == \"barbizonfashion.com\") {\n            this.form.company = 1;\n          } else {\n            this.form.company = 4;\n          }\n        } else {\n          this.isUser = false;\n        }\n      }\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.closeMenu();\n  }\n};","map":{"version":3,"names":["AppNavbar","Card","Checkbox","Button","InfoSection","axiosClient","components","_components","_defineProperty","name","_Option","_Select","data","form","fullName","email","company","password","password_confirmation","isUser","methods","directToLogin","$router","push","toggleNavbar","document","body","classList","toggle","closeMenu","remove","register","_this","post","firstName","then","response","sessionStorage","setItem","user","id","token","position","catch","error","console","validateEmail","test","domain","split","companyDomains","includes","beforeDestroy"],"sources":["src/components/Dashboard/Views/Pages/Register.vue"],"sourcesContent":["<template>\n  <div class=\"register-page\">\n    <app-navbar></app-navbar>\n    <div class=\"wrapper wrapper-full-page\">\n      <div class=\"full-page register-page section-image\" filter-color=\"black\">\n        <div class=\"content\">\n          <div class=\"container\">\n            <div class=\"col-lg-4 col-md-6 ml-auto mr-auto\">\n              <card type=\"signup\" class=\"text-center\">\n                <template slot=\"header\">\n                  <h4 class=\"card-title\">Register</h4>\n                </template>\n\n                <fg-input\n                  v-model=\"form.fullName\"\n                  addon-left-icon=\"nc-icon nc-single-02\"\n                  placeholder=\"Full Name...\"\n                ></fg-input>\n                <fg-input\n                  v-model=\"form.email\"\n                  @input=\"validateEmail\"\n                  addon-left-icon=\"nc-icon nc-email-85\"\n                  placeholder=\"Email...\"\n                ></fg-input>\n                <fg-input>\n                  <el-select\n                    :disabled=\"isUser\"\n                    class=\"select-default company\"\n                    size=\"large\"\n                    placeholder=\"Select Company\"\n                    v-model=\"form.company\"\n                  >\n                    <el-option value=\"\"></el-option>\n                    <el-option :value=\"1\">NBFI</el-option>\n                    <el-option value=\"2\">ASC</el-option>\n                    <el-option value=\"3\">CMC</el-option>\n                    <el-option :value=\"4\" label=\"EPC\">EPC</el-option>\n                    <el-option value=\"5\">AHLC</el-option>\n                    <!-- <el-option\n                      v-for=\"option in companyList\"\n                      class=\"select-default\"\n                      :value=\"option.shortName\"\n                      :label=\"option.shortName\"\n                      :key=\"option.id\"\n                    >\n                    </el-option> -->\n                  </el-select>\n                </fg-input>\n                <fg-input\n                  v-model=\"form.password\"\n                  addon-left-icon=\"nc-icon nc-key-25\"\n                  placeholder=\"Password\"\n                  type=\"password\"\n                ></fg-input>\n                <fg-input\n                  v-model=\"form.password_confirmation\"\n                  addon-left-icon=\"nc-icon nc-key-25\"\n                  placeholder=\"Confirm Password\"\n                  type=\"password\"\n                ></fg-input>\n\n                <a slot=\"footer\" class=\"linkLogin\" @click=\"directToLogin\"\n                  >Already Registered?\n                </a>\n                <p-button slot=\"footer\" type=\"info\" round>Register</p-button>\n              </card>\n            </div>\n          </div>\n        </div>\n        <!-- <app-footer></app-footer> -->\n        <div\n          class=\"full-page-background\"\n          style=\"background-image: url(static/img/background/jan-sendereks.jpg)\"\n        ></div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport AppNavbar from \"./Layout/AppNavbar\";\n// import AppFooter from './Layout/AppFooter'\nimport { Card, Checkbox, Button, InfoSection } from \"src/components/UIComponents\";\nimport { Select, Option } from \"element-ui\";\nimport axiosClient from \"../../../../axios\";\n\nexport default {\n  components: {\n    Card,\n    AppNavbar,\n    // AppFooter,\n    InfoSection,\n    [Checkbox.name]: Checkbox,\n    [Button.name]: Button,\n    [Option.name]: Option,\n    [Select.name]: Select,\n  },\n  data() {\n    return {\n      form: {\n        fullName: \"\",\n        email: \"\",\n        company: \"\",\n        password: \"\",\n        password_confirmation: \"\",\n      },\n      isUser: true,\n    };\n  },\n  methods: {\n    directToLogin() {\n      this.$router.push({ name: \"Login\" });\n    },\n    toggleNavbar() {\n      document.body.classList.toggle(\"nav-open\");\n    },\n    closeMenu() {\n      document.body.classList.remove(\"nav-open\");\n      document.body.classList.remove(\"off-canvas-sidebar\");\n    },\n    register() {\n      switch (this.form.company) {\n        case \"NBFI\":\n          this.form.company = 1;\n          break;\n        case \"ASC\":\n          this.form.company = 2;\n          break;\n        case \"CMC\":\n          this.form.company = 3;\n          break;\n        case \"EPC\":\n          this.form.company = 4;\n          break;\n        case \"AHLC\":\n          this.form.company = 5;\n          break;\n\n        default:\n          break;\n      }\n      axiosClient\n        .post(\"/register\", {\n          firstName: this.form.fullName,\n          email: this.form.email,\n          company: this.form.company,\n          password: this.form.password,\n          password_confirmation: this.password_confirmation,\n        })\n        .then((response) => {\n          sessionStorage.setItem(\"UserID\", response.data.user.id);\n          sessionStorage.setItem(\"Token\", response.data.token);\n          sessionStorage.setItem(\"Position\", response.data.user.position);\n          this.$router.push({ name: \"Overview\" });\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    },\n    validateEmail() {\n      this.isUser = true;\n      this.form.company = \"\";\n\n      if (/^[\\w.-]+@[a-zA-Z_-]+?\\.[a-zA-Z]{2,3}$/.test(this.form.email)) {\n        var domain = this.form.email.split(\"@\")[1];\n        var companyDomains = [\"barbizonfashion.com\", \"everydayproductscorp.com\"];\n\n        if (companyDomains.includes(domain)) {\n          if (domain == \"barbizonfashion.com\") {\n            this.form.company = 1;\n          } else {\n            this.form.company = 4;\n          }\n        } else {\n          this.isUser = false;\n        }\n      }\n    },\n  },\n  beforeDestroy() {\n    this.closeMenu();\n  },\n};\n</script>\n<style lang=\"scss\">\n.linkLogin {\n  text-decoration-line: underline !important;\n  margin-right: 10px;\n  color: gray !important;\n}\n.linkLogin:hover {\n  color: black !important;\n  cursor: pointer;\n}\n.company:hover {\n  background-color: white !important;\n}\n</style>\n"],"mappings":";;;;;;;;;;;;AA+EA,OAAAA,SAAA;AAEA,SAAAC,IAAA,EAAAC,QAAA,EAAAC,MAAA,EAAAC,WAAA;AAEA,OAAAC,WAAA;AAEA;EACAC,UAAA,GAAAC,WAAA;IACAN,IAAA,EAAAA,IAAA;IACAD,SAAA,EAAAA,SAAA;IAEAI,WAAA,EAAAA;EAAA,GAAAI,eAAA,CAAAD,WAAA,EACAL,QAAA,CAAAO,IAAA,EAAAP,QAAA,GAAAM,eAAA,CAAAD,WAAA,EACAJ,MAAA,CAAAM,IAAA,EAAAN,MAAA,GAAAK,eAAA,CAAAD,WAAA,EACAG,OAAA,CAAAD,IAAA,EAAAC,OAAA,GAAAF,eAAA,CAAAD,WAAA,EACAI,OAAA,CAAAF,IAAA,EAAAE,OAAA,GAAAJ,WAAA,CACA;EACAK,IAAA,WAAAA,KAAA;IACA;MACAC,IAAA;QACAC,QAAA;QACAC,KAAA;QACAC,OAAA;QACAC,QAAA;QACAC,qBAAA;MACA;MACAC,MAAA;IACA;EACA;EACAC,OAAA;IACAC,aAAA,WAAAA,cAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;QAAAd,IAAA;MAAA;IACA;IACAe,YAAA,WAAAA,aAAA;MACAC,QAAA,CAAAC,IAAA,CAAAC,SAAA,CAAAC,MAAA;IACA;IACAC,SAAA,WAAAA,UAAA;MACAJ,QAAA,CAAAC,IAAA,CAAAC,SAAA,CAAAG,MAAA;MACAL,QAAA,CAAAC,IAAA,CAAAC,SAAA,CAAAG,MAAA;IACA;IACAC,QAAA,WAAAA,SAAA;MAAA,IAAAC,KAAA;MACA,aAAAnB,IAAA,CAAAG,OAAA;QACA;UACA,KAAAH,IAAA,CAAAG,OAAA;UACA;QACA;UACA,KAAAH,IAAA,CAAAG,OAAA;UACA;QACA;UACA,KAAAH,IAAA,CAAAG,OAAA;UACA;QACA;UACA,KAAAH,IAAA,CAAAG,OAAA;UACA;QACA;UACA,KAAAH,IAAA,CAAAG,OAAA;UACA;QAEA;UACA;MACA;MACAX,WAAA,CACA4B,IAAA;QACAC,SAAA,OAAArB,IAAA,CAAAC,QAAA;QACAC,KAAA,OAAAF,IAAA,CAAAE,KAAA;QACAC,OAAA,OAAAH,IAAA,CAAAG,OAAA;QACAC,QAAA,OAAAJ,IAAA,CAAAI,QAAA;QACAC,qBAAA,OAAAA;MACA,GACAiB,IAAA,WAAAC,QAAA;QACAC,cAAA,CAAAC,OAAA,WAAAF,QAAA,CAAAxB,IAAA,CAAA2B,IAAA,CAAAC,EAAA;QACAH,cAAA,CAAAC,OAAA,UAAAF,QAAA,CAAAxB,IAAA,CAAA6B,KAAA;QACAJ,cAAA,CAAAC,OAAA,aAAAF,QAAA,CAAAxB,IAAA,CAAA2B,IAAA,CAAAG,QAAA;QACAV,KAAA,CAAAV,OAAA,CAAAC,IAAA;UAAAd,IAAA;QAAA;MACA,GACAkC,KAAA,WAAAC,KAAA;QACAC,OAAA,CAAAD,KAAA,CAAAA,KAAA;MACA;IACA;IACAE,aAAA,WAAAA,cAAA;MACA,KAAA3B,MAAA;MACA,KAAAN,IAAA,CAAAG,OAAA;MAEA,4CAAA+B,IAAA,MAAAlC,IAAA,CAAAE,KAAA;QACA,IAAAiC,MAAA,QAAAnC,IAAA,CAAAE,KAAA,CAAAkC,KAAA;QACA,IAAAC,cAAA;QAEA,IAAAA,cAAA,CAAAC,QAAA,CAAAH,MAAA;UACA,IAAAA,MAAA;YACA,KAAAnC,IAAA,CAAAG,OAAA;UACA;YACA,KAAAH,IAAA,CAAAG,OAAA;UACA;QACA;UACA,KAAAG,MAAA;QACA;MACA;IACA;EACA;EACAiC,aAAA,WAAAA,cAAA;IACA,KAAAvB,SAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import _regeneratorRuntime from \"/home/Projects/PRESTOv1Test/vue/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/Projects/PRESTOv1Test/vue/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport axiosClient from \"../../../../../../axios\";\nexport default {\n  props: [\"transferTransactionID\", \"savingCounter\", \"transferTransactionPromoName\", \"dateStarted\", \"dateEnded\", \"transferTransactionPromoEmail\", \"status\", \"transactionReceipt\"],\n  components: {},\n  watch: {\n    savingCounter: \"counterSaving\"\n  },\n  transactionReceipt: {\n    handler: function handler(val) {\n      this.transferTransactionReceipt();\n    },\n    deep: true\n  },\n  computed: {},\n  data: function data() {\n    return {\n      counter: true,\n      isSubmit: true,\n      transactionData: []\n    };\n  },\n  mounted: function mounted() {\n    this.isEditParagraph();\n  },\n  methods: {\n    transferTransactionReceipt: function transferTransactionReceipt() {\n      this.transactionData = this.transactionReceipt;\n      console.log(\"Transaction Data:\", this.transactionData);\n    },\n    isEditParagraph: function isEditParagraph() {\n      if (sessionStorage.getItem(\"Position\") == \"Reviewer\" || sessionStorage.getItem(\"Position\") == \"Approver\") {\n        this.isSubmit = false;\n      }\n    },\n    reloadPage: function reloadPage() {\n      var _this = this;\n      return _asyncToGenerator(_regeneratorRuntime().mark(function _callee() {\n        var holderName, holderplID, holderDateStart, holderDateEnd, holderEmail, holderUserID, holderStatus, holderCompany, holderRegenerate, letterData;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              holderName = _this.convertToAlphanumeric(\"name\");\n              holderplID = _this.convertToAlphanumeric(\"plID\");\n              holderDateStart = _this.convertToAlphanumeric(\"dateStart\");\n              holderDateEnd = _this.convertToAlphanumeric(\"dateEnd\");\n              holderEmail = _this.convertToAlphanumeric(\"email\");\n              holderUserID = _this.convertToAlphanumeric(\"userID\");\n              holderStatus = _this.convertToAlphanumeric(\"status\");\n              holderCompany = _this.convertToAlphanumeric(\"company\");\n              holderRegenerate = _this.convertToAlphanumeric(\"regenerate\");\n              console.log(\"Transaction ID:\", _this.transferTransactionID);\n              console.log(\"Transaction Promo Name:\", _this.transferTransactionPromoName);\n              console.log(\"Transaction Company:\", sessionStorage.getItem(\"Company\"));\n              _context.next = 14;\n              return axiosClient.get(\"/fetchGenerateLetter\", {\n                params: {\n                  company: sessionStorage.getItem(\"Company\"),\n                  id: _this.transferTransactionID\n                }\n              });\n            case 14:\n              letterData = _context.sent;\n              console.log(\"Letter Data:\", letterData.data);\n              console.log(\"Promo Name:\", letterData.data.authorizedPersonnel);\n              console.log(\"Date Start:\", letterData.data.dateStart);\n              console.log(\"Date End:\", letterData.data.dateEnd);\n              console.log(\"Promo Email:\", letterData.data.promoEmail);\n              console.log(\"Status:\", letterData.data.status);\n              setTimeout(function () {\n                window.open(\"http://192.168.0.7:90/api/generatePDF?\" + holderName + \"=\" + letterData.data.authorizedPersonnel + \"&\" + holderplID + \"=\" + _this.transferTransactionID + \"&\" + holderDateStart + \"=\" + letterData.data.dateStart + \"&\" + holderDateEnd + \"=\" + letterData.data.dateEnd + \"&\" + holderEmail + \"=\" + letterData.data.promoEmail + \"&\" + holderUserID + \"=\" + sessionStorage.getItem(\"UserID\") + \"&\" + holderStatus + \"=\" + letterData.data.status + \"&\" + holderCompany + \"=\" + sessionStorage.getItem(\"Company\") + \"&\" + holderRegenerate + \"=generate\", \"_blank\");\n              }, 500);\n              if (sessionStorage.getItem(\"Position\") == \"Reviewer\" || sessionStorage.getItem(\"Position\") == \"Approver\") _this.$router.push({\n                path: \"/pull-out/requests\"\n              });else _this.$router.push({\n                path: \"/pull-out/pullout-transaction\"\n              });\n            case 23:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }))();\n    },\n    counterSaving: function counterSaving() {\n      var _this2 = this;\n      setTimeout(function () {\n        _this2.counter = false;\n      }, this.savingCounter * 1000);\n    },\n    convertToAlphanumeric: function convertToAlphanumeric(input) {\n      var result = \"\";\n      for (var i = 0; i < input.length; i++) {\n        var char = input[i];\n        var charCode = char.charCodeAt(0);\n        if (char >= \"0\" && char <= \"9\" || char >= \"a\" && char <= \"z\" || char >= \"A\" && char <= \"Z\") {\n          var alphanumericChar = charCode.toString(36);\n          result += alphanumericChar;\n        } else {\n          result += char;\n        }\n      }\n      return result;\n    }\n  }\n};","map":{"version":3,"names":["axiosClient","props","components","watch","savingCounter","transactionReceipt","handler","val","transferTransactionReceipt","deep","computed","data","counter","isSubmit","transactionData","mounted","isEditParagraph","methods","console","log","sessionStorage","getItem","reloadPage","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","holderName","holderplID","holderDateStart","holderDateEnd","holderEmail","holderUserID","holderStatus","holderCompany","holderRegenerate","letterData","wrap","_callee$","_context","prev","next","convertToAlphanumeric","transferTransactionID","transferTransactionPromoName","get","params","company","id","sent","authorizedPersonnel","dateStart","dateEnd","promoEmail","status","setTimeout","window","open","$router","push","path","stop","counterSaving","_this2","input","result","i","length","char","charCode","charCodeAt","alphanumericChar","toString"],"sources":["src/components/Dashboard/Views/PullOut/PullOutRequests/ModalPullOut/TransactionReceiptModal.vue"],"sourcesContent":["<template>\n  <div\n    class=\"modal fade\"\n    id=\"transactionReceipt\"\n    data-bs-backdrop=\"static\"\n    data-bs-keyboard=\"false\"\n    tabindex=\"-1\"\n    aria-labelledby=\"transactionReceiptLabel\"\n    aria-hidden=\"true\"\n  >\n    <div class=\"modal-dialog modal-dialog-centered\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\"></div>\n        <div class=\"modal-body text-center\" v-if=\"isSubmit\">\n          <p>\n            Your transaction has been processed successfully.<br /><br />Transaction\n            Number<br /><span class=\"tr_num\">{{ transferTransactionID }}</span\n            ><br /><br />Please take a photo or screenshot the transaction number before\n            closing this window.\n          </p>\n        </div>\n        <div class=\"modal-body text-center\" v-else>\n          <p>\n            The transaction has been reviewed successfully.<br /><br />Transaction\n            Number<br /><span class=\"tr_num\">{{ transferTransactionID }}</span\n            ><br /><br />The transaction will now proceed for approval.\n          </p>\n        </div>\n        <div class=\"modal-footer d-flex justify-content-center\">\n          <button\n            class=\"btn btn-secondary\"\n            data-bs-dismiss=\"modal\"\n            @click=\"reloadPage()\"\n            :disabled=\"counter\"\n          >\n            <span\n              class=\"spinner-border spinner-border-sm\"\n              role=\"status\"\n              aria-hidden=\"true\"\n              v-if=\"counter\"\n            ></span>\n            Close\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport axiosClient from \"../../../../../../axios\";\n\nexport default {\n  props: [\n    \"transferTransactionID\",\n    \"savingCounter\",\n    \"transferTransactionPromoName\",\n    \"dateStarted\",\n    \"dateEnded\",\n    \"transferTransactionPromoEmail\",\n    \"status\",\n    \"transactionReceipt\",\n  ],\n  components: {},\n  watch: {\n    savingCounter: \"counterSaving\",\n  },\n  transactionReceipt: {\n    handler(val) {\n      this.transferTransactionReceipt();\n    },\n    deep: true,\n  },\n  computed: {\n    /***\n     * Searches through table data and returns a paginated array.\n     * Note that this should not be used for table with a lot of data as it might be slow!\n     * Do the search and the pagination on the server and display the data retrieved from server instead.\n     * @returns {computed.pagedData}\n     */\n  },\n  data() {\n    return {\n      counter: true,\n      isSubmit: true,\n      transactionData: [],\n    };\n  },\n  mounted() {\n    this.isEditParagraph();\n  },\n  methods: {\n    transferTransactionReceipt() {\n      this.transactionData = this.transactionReceipt;\n\n      console.log(\"Transaction Data:\", this.transactionData);\n    },\n    isEditParagraph() {\n      if (\n        sessionStorage.getItem(\"Position\") == \"Reviewer\" ||\n        sessionStorage.getItem(\"Position\") == \"Approver\"\n      ) {\n        this.isSubmit = false;\n      }\n    },\n    async reloadPage() {\n      // const submitdatemodal = new bootstrap.Modal(\"#submiteditauthorizeddatemodal\");\n      // submitdatemodal.show();\n\n      var holderName = this.convertToAlphanumeric(\"name\");\n      var holderplID = this.convertToAlphanumeric(\"plID\");\n      var holderDateStart = this.convertToAlphanumeric(\"dateStart\");\n      var holderDateEnd = this.convertToAlphanumeric(\"dateEnd\");\n      var holderEmail = this.convertToAlphanumeric(\"email\");\n      var holderUserID = this.convertToAlphanumeric(\"userID\");\n      var holderStatus = this.convertToAlphanumeric(\"status\");\n      var holderCompany = this.convertToAlphanumeric(\"company\");\n      var holderRegenerate = this.convertToAlphanumeric(\"regenerate\");\n\n      console.log(\"Transaction ID:\", this.transferTransactionID);\n      console.log(\"Transaction Promo Name:\", this.transferTransactionPromoName);\n      console.log(\"Transaction Company:\", sessionStorage.getItem(\"Company\"));\n\n      const letterData = await axiosClient.get(\"/fetchGenerateLetter\", {\n        params: {\n          company: sessionStorage.getItem(\"Company\"),\n          id: this.transferTransactionID,\n        },\n      });\n\n      console.log(\"Letter Data:\", letterData.data);\n      console.log(\"Promo Name:\", letterData.data.authorizedPersonnel);\n      console.log(\"Date Start:\", letterData.data.dateStart);\n      console.log(\"Date End:\", letterData.data.dateEnd);\n      console.log(\"Promo Email:\", letterData.data.promoEmail);\n      console.log(\"Status:\", letterData.data.status);\n      setTimeout(() => {\n        window.open(\n          \"http://192.168.0.7:90/api/generatePDF?\" +\n            holderName +\n            \"=\" +\n            letterData.data.authorizedPersonnel +\n            \"&\" +\n            holderplID +\n            \"=\" +\n            this.transferTransactionID +\n            \"&\" +\n            holderDateStart +\n            \"=\" +\n            letterData.data.dateStart +\n            \"&\" +\n            holderDateEnd +\n            \"=\" +\n            letterData.data.dateEnd +\n            \"&\" +\n            holderEmail +\n            \"=\" +\n            letterData.data.promoEmail +\n            \"&\" +\n            holderUserID +\n            \"=\" +\n            sessionStorage.getItem(\"UserID\") +\n            \"&\" +\n            holderStatus +\n            \"=\" +\n            letterData.data.status +\n            \"&\" +\n            holderCompany +\n            \"=\" +\n            sessionStorage.getItem(\"Company\") +\n            \"&\" +\n            holderRegenerate +\n            \"=generate\",\n          \"_blank\"\n        );\n      }, 500);\n\n      if (\n        sessionStorage.getItem(\"Position\") == \"Reviewer\" ||\n        sessionStorage.getItem(\"Position\") == \"Approver\"\n      )\n        this.$router.push({\n          path: \"/pull-out/requests\",\n        });\n      else\n        this.$router.push({\n          path: \"/pull-out/pullout-transaction\",\n        });\n    },\n    counterSaving() {\n      setTimeout(() => {\n        this.counter = false;\n      }, this.savingCounter * 1000);\n    },\n    convertToAlphanumeric(input) {\n      let result = \"\";\n\n      for (let i = 0; i < input.length; i++) {\n        const char = input[i];\n        const charCode = char.charCodeAt(0);\n\n        // Check if the character is alphanumeric\n        if (\n          (char >= \"0\" && char <= \"9\") ||\n          (char >= \"a\" && char <= \"z\") ||\n          (char >= \"A\" && char <= \"Z\")\n        ) {\n          // Convert the character code to a base-36 alphanumeric representation\n          const alphanumericChar = charCode.toString(36);\n          result += alphanumericChar;\n        } else {\n          // Non-alphanumeric characters are left unchanged\n          result += char;\n        }\n      }\n\n      return result;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.tr_num {\n  font-size: 35px;\n  font-weight: 700;\n}\n</style>\n"],"mappings":";;;;AAiDA,OAAAA,WAAA;AAEA;EACAC,KAAA,GACA,yBACA,iBACA,gCACA,eACA,aACA,iCACA,UACA,qBACA;EACAC,UAAA;EACAC,KAAA;IACAC,aAAA;EACA;EACAC,kBAAA;IACAC,OAAA,WAAAA,QAAAC,GAAA;MACA,KAAAC,0BAAA;IACA;IACAC,IAAA;EACA;EACAC,QAAA,GAOA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,OAAA;MACAC,QAAA;MACAC,eAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAC,eAAA;EACA;EACAC,OAAA;IACAT,0BAAA,WAAAA,2BAAA;MACA,KAAAM,eAAA,QAAAT,kBAAA;MAEAa,OAAA,CAAAC,GAAA,2BAAAL,eAAA;IACA;IACAE,eAAA,WAAAA,gBAAA;MACA,IACAI,cAAA,CAAAC,OAAA,8BACAD,cAAA,CAAAC,OAAA,4BACA;QACA,KAAAR,QAAA;MACA;IACA;IACAS,UAAA,WAAAA,WAAA;MAAA,IAAAC,KAAA;MAAA,OAAAC,iBAAA,CAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,UAAA,EAAAC,UAAA,EAAAC,eAAA,EAAAC,aAAA,EAAAC,WAAA,EAAAC,YAAA,EAAAC,YAAA,EAAAC,aAAA,EAAAC,gBAAA,EAAAC,UAAA;QAAA,OAAAZ,mBAAA,GAAAa,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAIAd,UAAA,GAAAL,KAAA,CAAAoB,qBAAA;cACAd,UAAA,GAAAN,KAAA,CAAAoB,qBAAA;cACAb,eAAA,GAAAP,KAAA,CAAAoB,qBAAA;cACAZ,aAAA,GAAAR,KAAA,CAAAoB,qBAAA;cACAX,WAAA,GAAAT,KAAA,CAAAoB,qBAAA;cACAV,YAAA,GAAAV,KAAA,CAAAoB,qBAAA;cACAT,YAAA,GAAAX,KAAA,CAAAoB,qBAAA;cACAR,aAAA,GAAAZ,KAAA,CAAAoB,qBAAA;cACAP,gBAAA,GAAAb,KAAA,CAAAoB,qBAAA;cAEAzB,OAAA,CAAAC,GAAA,oBAAAI,KAAA,CAAAqB,qBAAA;cACA1B,OAAA,CAAAC,GAAA,4BAAAI,KAAA,CAAAsB,4BAAA;cACA3B,OAAA,CAAAC,GAAA,yBAAAC,cAAA,CAAAC,OAAA;cAAAmB,QAAA,CAAAE,IAAA;cAAA,OAEA1C,WAAA,CAAA8C,GAAA;gBACAC,MAAA;kBACAC,OAAA,EAAA5B,cAAA,CAAAC,OAAA;kBACA4B,EAAA,EAAA1B,KAAA,CAAAqB;gBACA;cACA;YAAA;cALAP,UAAA,GAAAG,QAAA,CAAAU,IAAA;cAOAhC,OAAA,CAAAC,GAAA,iBAAAkB,UAAA,CAAA1B,IAAA;cACAO,OAAA,CAAAC,GAAA,gBAAAkB,UAAA,CAAA1B,IAAA,CAAAwC,mBAAA;cACAjC,OAAA,CAAAC,GAAA,gBAAAkB,UAAA,CAAA1B,IAAA,CAAAyC,SAAA;cACAlC,OAAA,CAAAC,GAAA,cAAAkB,UAAA,CAAA1B,IAAA,CAAA0C,OAAA;cACAnC,OAAA,CAAAC,GAAA,iBAAAkB,UAAA,CAAA1B,IAAA,CAAA2C,UAAA;cACApC,OAAA,CAAAC,GAAA,YAAAkB,UAAA,CAAA1B,IAAA,CAAA4C,MAAA;cACAC,UAAA;gBACAC,MAAA,CAAAC,IAAA,CACA,2CACA9B,UAAA,GACA,MACAS,UAAA,CAAA1B,IAAA,CAAAwC,mBAAA,GACA,MACAtB,UAAA,GACA,MACAN,KAAA,CAAAqB,qBAAA,GACA,MACAd,eAAA,GACA,MACAO,UAAA,CAAA1B,IAAA,CAAAyC,SAAA,GACA,MACArB,aAAA,GACA,MACAM,UAAA,CAAA1B,IAAA,CAAA0C,OAAA,GACA,MACArB,WAAA,GACA,MACAK,UAAA,CAAA1B,IAAA,CAAA2C,UAAA,GACA,MACArB,YAAA,GACA,MACAb,cAAA,CAAAC,OAAA,aACA,MACAa,YAAA,GACA,MACAG,UAAA,CAAA1B,IAAA,CAAA4C,MAAA,GACA,MACApB,aAAA,GACA,MACAf,cAAA,CAAAC,OAAA,cACA,MACAe,gBAAA,GACA,aACA,QACA;cACA;cAEA,IACAhB,cAAA,CAAAC,OAAA,8BACAD,cAAA,CAAAC,OAAA,4BAEAE,KAAA,CAAAoC,OAAA,CAAAC,IAAA;gBACAC,IAAA;cACA,QAEAtC,KAAA,CAAAoC,OAAA,CAAAC,IAAA;gBACAC,IAAA;cACA;YAAA;YAAA;cAAA,OAAArB,QAAA,CAAAsB,IAAA;UAAA;QAAA,GAAAnC,OAAA;MAAA;IACA;IACAoC,aAAA,WAAAA,cAAA;MAAA,IAAAC,MAAA;MACAR,UAAA;QACAQ,MAAA,CAAApD,OAAA;MACA,QAAAR,aAAA;IACA;IACAuC,qBAAA,WAAAA,sBAAAsB,KAAA;MACA,IAAAC,MAAA;MAEA,SAAAC,CAAA,MAAAA,CAAA,GAAAF,KAAA,CAAAG,MAAA,EAAAD,CAAA;QACA,IAAAE,IAAA,GAAAJ,KAAA,CAAAE,CAAA;QACA,IAAAG,QAAA,GAAAD,IAAA,CAAAE,UAAA;QAGA,IACAF,IAAA,WAAAA,IAAA,WACAA,IAAA,WAAAA,IAAA,WACAA,IAAA,WAAAA,IAAA,SACA;UAEA,IAAAG,gBAAA,GAAAF,QAAA,CAAAG,QAAA;UACAP,MAAA,IAAAM,gBAAA;QACA;UAEAN,MAAA,IAAAG,IAAA;QACA;MACA;MAEA,OAAAH,MAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
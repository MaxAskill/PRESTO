{"ast":null,"code":"import _defineProperty from \"/var/www/html/PRESTOv1/vue/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nvar _components;\nimport \"core-js/modules/es.function.name.js\";\nimport { Card, Checkbox, Button } from \"src/components/UIComponents\";\nimport AppNavbar from \"./Layout/AppNavbar\";\nimport axiosClient from \"../../../../axios\";\nexport default {\n  components: (_components = {\n    Card: Card,\n    AppNavbar: AppNavbar\n  }, _defineProperty(_components, Checkbox.name, Checkbox), _defineProperty(_components, Button.name, Button), _components),\n  methods: {\n    toggleNavbar: function toggleNavbar() {\n      document.body.classList.toggle(\"nav-open\");\n    },\n    closeMenu: function closeMenu() {\n      document.body.classList.remove(\"nav-open\");\n      document.body.classList.remove(\"off-canvas-sidebar\");\n    },\n    login: function login() {\n      var _this = this;\n      axiosClient.post(\"/login\", {\n        email: this.form.username,\n        password: this.form.password\n      }).then(function (response) {\n        console.log(\"Response\", response.data);\n        sessionStorage.setItem(\"UserID\", response.data.user.id);\n        sessionStorage.setItem(\"Token\", response.data.token);\n        sessionStorage.setItem(\"Position\", response.data.user.position);\n        sessionStorage.setItem(\"Company\", response.data.company[0].shortName);\n        sessionStorage.setItem(\"Email\", response.data.user.email);\n        _this.$router.push({\n          name: \"Overview\"\n        });\n      }).catch(function (err) {\n        _this.errorMsg = err.response.data.message;\n        console.log(err.response.data.message);\n        console.error(err.response.data.message);\n      });\n    }\n  },\n  data: function data() {\n    return {\n      form: {\n        username: \"\",\n        password: \"\"\n      },\n      errorMsg: \"\"\n    };\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.closeMenu();\n  }\n};","map":{"version":3,"names":["Card","Checkbox","Button","AppNavbar","axiosClient","components","_components","_defineProperty","name","methods","toggleNavbar","document","body","classList","toggle","closeMenu","remove","login","_this","post","email","form","username","password","then","response","console","log","data","sessionStorage","setItem","user","id","token","position","company","shortName","$router","push","catch","err","errorMsg","message","error","beforeDestroy"],"sources":["src/components/Dashboard/Views/Pages/Login.vue"],"sourcesContent":["<template>\n  <div class=\"login-page\">\n    <app-navbar></app-navbar>\n    <div class=\"wrapper wrapper-full-page\">\n      <div class=\"full-page login-page section-image\">\n        <!--   you can change the color of the filter page using: data-color=\"blue | azure | green | orange | red | purple\" -->\n        <div class=\"content\">\n          <div class=\"container\">\n            <div class=\"col-lg-4 col-md-6 ml-auto mr-auto\">\n              <form @submit.prevent=\"login\">\n                <card type=\"login\">\n                  <div\n                    v-if=\"errorMsg\"\n                    class=\"alert alert-danger alert-dismissible fade show\"\n                  >\n                    <button\n                      type=\"button\"\n                      aria-hidden=\"true\"\n                      class=\"close\"\n                      data-dismiss=\"alert\"\n                      aria-label=\"Close\"\n                      @click=\"errorMsg = ''\"\n                    >\n                      <i class=\"nc-icon nc-simple-remove\"></i>\n                    </button>\n                    <span class=\"text-center\">{{ errorMsg }}</span>\n                  </div>\n                  <h3 slot=\"header\" class=\"header text-center\">Login</h3>\n\n                  <fg-input\n                    v-model=\"form.username\"\n                    addon-left-icon=\"nc-icon nc-single-02\"\n                    placeholder=\"First Name...\"\n                  ></fg-input>\n\n                  <fg-input\n                    v-model=\"form.password\"\n                    addon-left-icon=\"nc-icon nc-key-25\"\n                    placeholder=\"Password\"\n                    type=\"password\"\n                  ></fg-input>\n\n                  <br />\n\n                  <p-checkbox> Subscribe to newsletter </p-checkbox>\n\n                  <p-button\n                    native-type=\"submit\"\n                    slot=\"footer\"\n                    type=\"warning\"\n                    round\n                    block\n                    class=\"mb-3\"\n                    >Get started</p-button\n                  >\n                </card>\n              </form>\n            </div>\n          </div>\n        </div>\n        <!-- <app-footer></app-footer> -->\n        <div\n          class=\"full-page-background\"\n          style=\"background-image: url(static/img/background/background-2.jpg)\"\n        ></div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { Card, Checkbox, Button } from \"src/components/UIComponents\";\nimport AppNavbar from \"./Layout/AppNavbar\";\n// import AppFooter from './Layout/AppFooter'\n\nimport axiosClient from \"../../../../axios\";\n\nexport default {\n  components: {\n    Card,\n    AppNavbar,\n    // AppFooter,\n    [Checkbox.name]: Checkbox,\n    [Button.name]: Button,\n  },\n  methods: {\n    toggleNavbar() {\n      document.body.classList.toggle(\"nav-open\");\n    },\n    closeMenu() {\n      document.body.classList.remove(\"nav-open\");\n      document.body.classList.remove(\"off-canvas-sidebar\");\n    },\n    login() {\n      axiosClient\n        .post(\"/login\", {\n          email: this.form.username,\n          password: this.form.password,\n        })\n        .then((response) => {\n          console.log(\"Response\", response.data);\n          sessionStorage.setItem(\"UserID\", response.data.user.id);\n          sessionStorage.setItem(\"Token\", response.data.token);\n          sessionStorage.setItem(\"Position\", response.data.user.position);\n          sessionStorage.setItem(\"Company\", response.data.company[0].shortName);\n          sessionStorage.setItem(\"Email\", response.data.user.email);\n          this.$router.push({ name: \"Overview\" });\n        })\n        .catch((err) => {\n          this.errorMsg = err.response.data.message;\n          console.log(err.response.data.message);\n          console.error(err.response.data.message);\n        });\n    },\n  },\n  data() {\n    return {\n      form: {\n        username: \"\",\n        password: \"\",\n      },\n      errorMsg: \"\",\n    };\n  },\n  beforeDestroy() {\n    this.closeMenu();\n  },\n};\n</script>\n<style></style>\n"],"mappings":";;;AAsEA,SAAAA,IAAA,EAAAC,QAAA,EAAAC,MAAA;AACA,OAAAC,SAAA;AAGA,OAAAC,WAAA;AAEA;EACAC,UAAA,GAAAC,WAAA;IACAN,IAAA,EAAAA,IAAA;IACAG,SAAA,EAAAA;EAAA,GAAAI,eAAA,CAAAD,WAAA,EAEAL,QAAA,CAAAO,IAAA,EAAAP,QAAA,GAAAM,eAAA,CAAAD,WAAA,EACAJ,MAAA,CAAAM,IAAA,EAAAN,MAAA,GAAAI,WAAA,CACA;EACAG,OAAA;IACAC,YAAA,WAAAA,aAAA;MACAC,QAAA,CAAAC,IAAA,CAAAC,SAAA,CAAAC,MAAA;IACA;IACAC,SAAA,WAAAA,UAAA;MACAJ,QAAA,CAAAC,IAAA,CAAAC,SAAA,CAAAG,MAAA;MACAL,QAAA,CAAAC,IAAA,CAAAC,SAAA,CAAAG,MAAA;IACA;IACAC,KAAA,WAAAA,MAAA;MAAA,IAAAC,KAAA;MACAd,WAAA,CACAe,IAAA;QACAC,KAAA,OAAAC,IAAA,CAAAC,QAAA;QACAC,QAAA,OAAAF,IAAA,CAAAE;MACA,GACAC,IAAA,WAAAC,QAAA;QACAC,OAAA,CAAAC,GAAA,aAAAF,QAAA,CAAAG,IAAA;QACAC,cAAA,CAAAC,OAAA,WAAAL,QAAA,CAAAG,IAAA,CAAAG,IAAA,CAAAC,EAAA;QACAH,cAAA,CAAAC,OAAA,UAAAL,QAAA,CAAAG,IAAA,CAAAK,KAAA;QACAJ,cAAA,CAAAC,OAAA,aAAAL,QAAA,CAAAG,IAAA,CAAAG,IAAA,CAAAG,QAAA;QACAL,cAAA,CAAAC,OAAA,YAAAL,QAAA,CAAAG,IAAA,CAAAO,OAAA,IAAAC,SAAA;QACAP,cAAA,CAAAC,OAAA,UAAAL,QAAA,CAAAG,IAAA,CAAAG,IAAA,CAAAX,KAAA;QACAF,KAAA,CAAAmB,OAAA,CAAAC,IAAA;UAAA9B,IAAA;QAAA;MACA,GACA+B,KAAA,WAAAC,GAAA;QACAtB,KAAA,CAAAuB,QAAA,GAAAD,GAAA,CAAAf,QAAA,CAAAG,IAAA,CAAAc,OAAA;QACAhB,OAAA,CAAAC,GAAA,CAAAa,GAAA,CAAAf,QAAA,CAAAG,IAAA,CAAAc,OAAA;QACAhB,OAAA,CAAAiB,KAAA,CAAAH,GAAA,CAAAf,QAAA,CAAAG,IAAA,CAAAc,OAAA;MACA;IACA;EACA;EACAd,IAAA,WAAAA,KAAA;IACA;MACAP,IAAA;QACAC,QAAA;QACAC,QAAA;MACA;MACAkB,QAAA;IACA;EACA;EACAG,aAAA,WAAAA,cAAA;IACA,KAAA7B,SAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
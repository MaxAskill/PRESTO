{"ast":null,"code":"import _Select2 from \"element-ui/lib/theme-chalk/select.css\";\nimport \"element-ui/lib/theme-chalk/base.css\";\nimport _Select from \"element-ui/lib/select\";\nimport _Option2 from \"element-ui/lib/theme-chalk/option.css\";\nimport \"element-ui/lib/theme-chalk/base.css\";\nimport _Option from \"element-ui/lib/option\";\nimport axiosClient from \"../../../../axios\";\nimport linkName from \"../../../../linkName\";\nexport default {\n  components: {\n    [_Option.name]: _Option,\n    [_Select.name]: _Select\n  },\n  data() {\n    return {\n      user: {\n        name: \"\",\n        company: \"\",\n        email: \"\",\n        date: \"\",\n        status: \"\",\n        chainCode: \"\",\n        branchName: \"\"\n      },\n      edit: {\n        Company: \"\",\n        ChainCode: \"\",\n        BranchName: \"\"\n      },\n      branchMultiple: [],\n      branchList: [\"1\", \"2\", \"3\"],\n      companyList: [\"C1\", \"C2\", \"C3\"],\n      chainCodeList: [\"CC1\", \"CC2\", \"CC3\"],\n      editMode: false,\n      disableAddBranch: true\n    };\n  },\n  watch: {\n    edit: {\n      handler() {\n        this.validateAddBranch();\n      },\n      deep: true\n    },\n    branchMultiple: \"validateAddBranch\"\n  },\n  mounted() {\n    this.fetchData();\n    if (window.resolveRouteChange) {\n      window.resolveRouteChange();\n      window.resolveRouteChange = null;\n    }\n    linkName.val = \"My Profile\";\n  },\n  methods: {\n    fetchChainCode() {\n      axiosClient.get(\"/fetchChain\", {\n        params: {\n          company: this.newTransaction.company\n        }\n      }).then(response => {\n        this.chainCodeList = response.data;\n      }).catch(error => {});\n      this.isChainCode = false;\n    },\n    fetchChainName() {\n      axiosClient.get(\"/fetchChainName\", {\n        params: {\n          chainCode: this.newTransaction.chainCode\n        }\n      }).then(response => {\n        this.branchNameList = response.data;\n      }).catch(error => {});\n      this.isBranchName = false;\n    },\n    editProfile() {\n      this.branchMultiple.push({\n        branch: this.user.branchName\n      });\n      this.editMode = true;\n      console.log(\"BM\", this.branchMultiple);\n      axiosClient.get(\"/fetchCompany\").then(response => {\n        this.companyList = response.data;\n      });\n    },\n    addBranchInput() {\n      this.branchMultiple.push({\n        branch: \"\"\n      });\n    },\n    removeBranchInput(index) {\n      this.branchMultiple.splice(index, 1);\n    },\n    editBranchInput(index) {\n      console.log(\"brnach index: \", index);\n    },\n    fetchData() {\n      axiosClient.get(\"/usersProfile\", {\n        params: {\n          userID: sessionStorage.getItem(\"UserID\")\n        }\n      }).then(response => {\n        console.log(\"Users Profile Data:\", response.data);\n        this.user.name = response.data[0].name;\n        this.user.email = response.data[0].email;\n        this.user.company = response.data[0].company;\n        this.user.date = response.data[0].date;\n        this.user.status = response.data[0].status;\n        if (response.data[0].position == \"User\") {\n          this.user.chainCode = response.data[0].chainCode;\n          this.user.branchName = response.data[0].branchName;\n          var arrCompany = this.user.company.split(\"(\")[1];\n          var company = arrCompany.split(\")\")[0];\n          console.log(\"Company\", company);\n          axiosClient.get(\"/fetchChainName\", {\n            params: {\n              chainCode: this.user.chainCode,\n              company: company\n            }\n          }).then(response => {\n            console.log(\"Branches\", response.data);\n            this.branchList = response.data;\n          }).catch(error => {\n            console.error(error);\n          });\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n    validateAddBranch() {\n      if (this.edit.Company && this.edit.ChainCode && this.edit.BranchName) this.disableAddBranch = false;\n      if (this.branchMultiple.length === this.branchList.length) this.disableAddBranch = true;\n    }\n  }\n};","map":{"version":3,"names":["axiosClient","linkName","components","_Option","name","_Select","data","user","company","email","date","status","chainCode","branchName","edit","Company","ChainCode","BranchName","branchMultiple","branchList","companyList","chainCodeList","editMode","disableAddBranch","watch","handler","validateAddBranch","deep","mounted","fetchData","window","resolveRouteChange","val","methods","fetchChainCode","get","params","newTransaction","then","response","catch","error","isChainCode","fetchChainName","branchNameList","isBranchName","editProfile","push","branch","console","log","addBranchInput","removeBranchInput","index","splice","editBranchInput","userID","sessionStorage","getItem","position","arrCompany","split","length"],"sources":["src/components/Dashboard/Views/PullOut/PromoProfile.vue"],"sourcesContent":["<template>\n  <div class=\"row\">\n    <!-- <div class=\"col-lg-4 col-md-5\">\n       <user-card>\n\n      </user-card>\n      <members-card>\n\n      </members-card>\n    </div> -->\n    <!-- <div class=\"col-lg-8 col-md-7\"> -->\n    <div class=\"col-lg-6 col-md-6 mx-auto\">\n      <div class=\"card\">\n        <!-- <div class=\"card-header d-flex\">\n          <i\n            data-bs-toggle=\"tooltip\"\n            class=\"nc-icon nc-alert-circle-i font-weight-bold\"\n          ></i>\n          <h4 class=\"title\">My Profile</h4>\n        </div> -->\n        <div class=\"card-body\">\n          <form>\n            <div class=\"row\">\n              <div class=\"col-md-6\">\n                <fg-input\n                  type=\"text\"\n                  label=\"Name\"\n                  placeholder=\"Paper dashboard\"\n                  v-model=\"user.name\"\n                  :disabled=\"!editMode\"\n                >\n                </fg-input>\n              </div>\n              <div class=\"col-md-6\">\n                <fg-input\n                  type=\"text\"\n                  label=\"Email\"\n                  placeholder=\"Username\"\n                  v-model=\"user.email\"\n                  :disabled=\"!editMode\"\n                >\n                </fg-input>\n              </div>\n            </div>\n\n            <div class=\"row\" v-show=\"!editMode\">\n              <div class=\"col-md-6\">\n                <fg-input\n                  type=\"text\"\n                  label=\"Company\"\n                  placeholder=\"Company\"\n                  v-model=\"user.company\"\n                  disabled\n                >\n                </fg-input>\n              </div>\n              <div class=\"col-md-6\">\n                <fg-input\n                  type=\"text\"\n                  label=\"Chain Code\"\n                  placeholder=\"Chain Code\"\n                  v-model=\"user.chainCode\"\n                  disabled\n                >\n                </fg-input>\n              </div>\n            </div>\n\n            <div class=\"row\" v-show=\"editMode\">\n              <div class=\"col-md-6\">\n                <fg-input label=\"Company\">\n                  <el-select\n                    class=\"select-default\"\n                    size=\"large\"\n                    placeholder=\"Select Company\"\n                    v-model=\"edit.Company\"\n                    @change=\"fetchChainCode()\"\n                  >\n                    <el-option\n                      v-for=\"company in companyList\"\n                      class=\"select-default\"\n                      :value=\"company.shortName\"\n                      :label=\"company.name + ' (' + company.shortName + ') '\"\n                    >\n                    </el-option>\n                  </el-select>\n                </fg-input>\n              </div>\n              <div class=\"col-md-6\">\n                <fg-input label=\"Chain Code\">\n                  <el-select\n                    class=\"select-default\"\n                    size=\"large\"\n                    placeholder=\"Select Chain Code\"\n                    v-model=\"edit.ChainCode\"\n                  >\n                    <el-option\n                      v-for=\"chain in chainCodeList\"\n                      class=\"select-default\"\n                      :value=\"chain.chainCode\"\n                      :label=\"chain.chainCode\"\n                    >\n                    </el-option>\n                  </el-select>\n                </fg-input>\n              </div>\n            </div>\n\n            <div class=\"row\" v-show=\"!editMode\">\n              <div class=\"col-md-12\">\n                <fg-input\n                  type=\"text\"\n                  label=\"Branch Name\"\n                  placeholder=\"Metro\"\n                  v-model=\"user.branchName\"\n                  disabled\n                >\n                </fg-input>\n              </div>\n            </div>\n\n            <div class=\"row mb-10px\" v-show=\"editMode\">\n              <span class=\"headerBranch\">Branch Name</span>\n              <div class=\"col-11 pl-24px\">\n                <el-select\n                  class=\"select-default selectBranch\"\n                  size=\"large\"\n                  placeholder=\"Select Branch Name\"\n                  v-model=\"edit.BranchName\"\n                >\n                  <el-option\n                    v-for=\"branch in branchList\"\n                    class=\"select-default\"\n                    :value=\"branch\"\n                    :label=\"branch\"\n                  >\n                    {{ branch }}\n                  </el-option>\n                </el-select>\n              </div>\n              <div class=\"col-1 selectBtnBranch\">\n                <p-button\n                  type=\"success\"\n                  class=\"m-0\"\n                  @click=\"addBranchInput\"\n                  icon\n                  :disabled=\"disableAddBranch\"\n                >\n                  <i class=\"nc-icon nc-check-2\"></i>\n                </p-button>\n              </div>\n            </div>\n\n            <div\n              v-if=\"editMode\"\n              class=\"row\"\n              v-for=\"(brM, index) in branchMultiple\"\n              :key=\"index\"\n            >\n              <div class=\"col-10\">\n                <fg-input\n                  type=\"text\"\n                  placeholder=\"Select Branch Name\"\n                  v-model=\"brM.branch\"\n                  disabled\n                >\n                </fg-input>\n              </div>\n\n              <!-- <div v-if=\"index >= 1\" class=\"col-1 removeBtnBranch\">\n                <p-button\n                  type=\"danger\"\n                  class=\"m-0\"\n                  @click=\"removeBranchInput(index)\"\n                  icon\n                >\n                  <i class=\"nc-icon nc-simple-delete\"></i>\n                </p-button>\n              </div> -->\n              <div class=\"col-2 gap-2 inputBtnBranch\">\n                <p-button type=\"warning\" class=\"m-0\" @click=\"editBranchInput(index)\" icon>\n                  <!-- <i class=\"nc-icon nc-simple-add\"></i> -->\n                  <i class=\"fa fa-heart\"></i>\n                </p-button>\n                <p-button\n                  v-if=\"index == 0\"\n                  type=\"danger\"\n                  class=\"m-0\"\n                  @click=\"removeBranchInput(index)\"\n                  icon\n                  :disabled=\"branchMultiple.length == 1\"\n                >\n                  <i class=\"nc-icon nc-simple-delete\"></i>\n                </p-button>\n                <p-button\n                  v-else\n                  type=\"danger\"\n                  class=\"m-0\"\n                  @click=\"removeBranchInput(index)\"\n                  icon\n                >\n                  <i class=\"nc-icon nc-simple-delete\"></i>\n                </p-button>\n              </div>\n            </div>\n\n            <div class=\"row\">\n              <div class=\"col-md-6\">\n                <fg-input\n                  type=\"text\"\n                  label=\"Date Registered\"\n                  placeholder=\"Date Registered\"\n                  v-model=\"user.date\"\n                  disabled\n                >\n                </fg-input>\n              </div>\n              <div class=\"col-md-6\">\n                <fg-input\n                  type=\"text\"\n                  label=\"Status\"\n                  placeholder=\"Status\"\n                  v-model=\"user.status\"\n                  disabled\n                >\n                </fg-input>\n              </div>\n            </div>\n\n            <div class=\"clearfix\"></div>\n          </form>\n        </div>\n        <div class=\"card-footer\">\n          <div class=\"mb-10px gap-2 d-flex justify-content-center\">\n            <button\n              v-show=\"!editMode\"\n              type=\"submit\"\n              class=\"btn btn-info btn-fill btn-wd\"\n              @click.prevent=\"editProfile\"\n            >\n              Edit Profile\n            </button>\n            <button\n              v-show=\"editMode\"\n              type=\"submit\"\n              class=\"btn btn-danger btn-fill btn-wd\"\n              @click.prevent=\"editMode = false\"\n            >\n              Cancel\n            </button>\n            <button\n              v-show=\"editMode\"\n              type=\"submit\"\n              class=\"btn btn-success btn-fill btn-wd\"\n            >\n              Save Changes\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport axiosClient from \"../../../../axios\";\nimport linkName from \"../../../../linkName\";\nimport { Select, Option } from \"element-ui\";\n\nexport default {\n  components: {\n    [Option.name]: Option,\n    [Select.name]: Select,\n  },\n  data() {\n    return {\n      user: {\n        name: \"\",\n        company: \"\",\n        email: \"\",\n        date: \"\",\n        status: \"\",\n        chainCode: \"\",\n        branchName: \"\",\n      },\n      edit: {\n        Company: \"\",\n        ChainCode: \"\",\n        BranchName: \"\",\n      },\n      branchMultiple: [],\n      branchList: [\"1\", \"2\", \"3\"],\n      companyList: [\"C1\", \"C2\", \"C3\"],\n      chainCodeList: [\"CC1\", \"CC2\", \"CC3\"],\n      editMode: false,\n      disableAddBranch: true,\n    };\n  },\n  watch: {\n    edit: {\n      handler() {\n        this.validateAddBranch();\n      },\n      deep: true,\n    },\n    branchMultiple: \"validateAddBranch\",\n  },\n  mounted() {\n    this.fetchData();\n    if (window.resolveRouteChange) {\n      window.resolveRouteChange();\n      window.resolveRouteChange = null;\n    }\n    linkName.val = \"My Profile\";\n  },\n  methods: {\n    fetchChainCode() {\n      axiosClient\n        .get(\"/fetchChain\", {\n          params: {\n            company: this.newTransaction.company,\n          },\n        })\n        .then((response) => {\n          //console.log(\"Chain Code Response:\", response.data);\n          this.chainCodeList = response.data;\n        })\n        .catch((error) => {\n          //console.error(error);\n        });\n      // this.notifyVue(\"bottom\", \"right\");\n      this.isChainCode = false;\n    },\n    fetchChainName() {\n      axiosClient\n        .get(\"/fetchChainName\", {\n          params: {\n            chainCode: this.newTransaction.chainCode,\n          },\n        })\n        .then((response) => {\n          //console.log(\"Chain Name Response:\", response.data);\n          this.branchNameList = response.data;\n        })\n        .catch((error) => {\n          //console.error(error);\n        });\n      this.isBranchName = false;\n    },\n    editProfile() {\n      // alert(\"Your data: \" + JSON.stringify(this.user));\n      this.branchMultiple.push({ branch: this.user.branchName });\n      this.editMode = true;\n\n      console.log(\"BM\", this.branchMultiple);\n\n      axiosClient.get(\"/fetchCompany\").then((response) => {\n        this.companyList = response.data;\n      });\n    },\n    addBranchInput() {\n      this.branchMultiple.push({ branch: \"\" });\n    },\n    removeBranchInput(index) {\n      this.branchMultiple.splice(index, 1);\n    },\n    editBranchInput(index) {\n      console.log(\"brnach index: \", index);\n    },\n    fetchData() {\n      axiosClient\n        .get(\"/usersProfile\", {\n          params: {\n            userID: sessionStorage.getItem(\"UserID\"),\n          },\n        })\n        .then((response) => {\n          console.log(\"Users Profile Data:\", response.data);\n          this.user.name = response.data[0].name;\n          this.user.email = response.data[0].email;\n          this.user.company = response.data[0].company;\n          this.user.date = response.data[0].date;\n          this.user.status = response.data[0].status;\n          if (response.data[0].position == \"User\") {\n            this.user.chainCode = response.data[0].chainCode;\n            this.user.branchName = response.data[0].branchName;\n\n            var arrCompany = this.user.company.split(\"(\")[1];\n\n            var company = arrCompany.split(\")\")[0];\n\n            console.log(\"Company\", company);\n            axiosClient\n              .get(\"/fetchChainName\", {\n                params: {\n                  chainCode: this.user.chainCode,\n                  company: company,\n                },\n              })\n              .then((response) => {\n                console.log(\"Branches\", response.data);\n                this.branchList = response.data;\n              })\n              .catch((error) => {\n                console.error(error);\n              });\n          }\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    },\n    validateAddBranch() {\n      if (this.edit.Company && this.edit.ChainCode && this.edit.BranchName)\n        this.disableAddBranch = false;\n      if (this.branchMultiple.length === this.branchList.length)\n        this.disableAddBranch = true;\n    },\n  },\n};\n</script>\n<style lang=\"scss\">\n.headerBranch {\n  font-size: 0.8571em;\n  color: #9a9a9a;\n  margin-bottom: 5px;\n}\n.mb-10px {\n  margin-bottom: 10px;\n}\n.selectBranch {\n  width: 100%;\n}\n.selectBtnBranch {\n  display: flex;\n  justify-content: end;\n  padding-left: 12px;\n  padding-right: 12px;\n}\n.inputBtnBranch {\n  display: flex;\n  justify-content: end;\n  padding-left: 0px;\n  padding-right: 12px;\n}\n.pl-24px {\n  padding-left: 12px;\n  padding-right: 24px;\n}\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}